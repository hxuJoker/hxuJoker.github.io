(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ea-image-dialog"],{"0756":function(t,s,a){var n,o,c;(function(e,i){o=[s,a("967e")],n=i,c="function"===typeof n?n.apply(s,o):n,void 0===c||(t.exports=c)})("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,(function(t,s){"use strict";var n=a("1bd5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,s=n(s);var o={data:function(){return{daliyList:s.default}},methods:{goToDaily:function(t){this.$router.push(t)}}};t.default=o}))},"0d3b":function(t,s,a){var n=a("d039"),o=a("b622"),c=a("c430"),e=o("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),s=t.searchParams,a="";return t.pathname="c%20d",s.forEach((function(t,n){s["delete"]("b"),a+=n+t})),c&&!t.toJSON||!s.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==s.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!s[e]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host}))},"12f4":function(t,s,a){"use strict";a.r(s);var n=a("e9c7"),o=a("fb64");for(var c in o)"default"!==c&&function(t){a.d(s,t,(function(){return o[t]}))}(c);a("c2b7");var e=a("2877"),i=Object(e["a"])(o["default"],n["a"],n["b"],!1,null,"2096ecf1",null);s["default"]=i.exports},"1d0f":function(t,s,a){"use strict";a.r(s);var n=a("6dad"),o=a("ba0a");for(var c in o)"default"!==c&&function(t){a.d(s,t,(function(){return o[t]}))}(c);a("e416");var e=a("2877"),i=Object(e["a"])(o["default"],n["a"],n["b"],!1,null,"213503e2",null);s["default"]=i.exports},"205c":function(t,s,a){"use strict";var n=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ea-view",{staticClass:"ea-document",attrs:{center:""}},[a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:18,offset:3}},t._l(t.daliyList,(function(s,n){return a("div",{key:n,staticClass:"daily-list"},[a("div",{staticClass:"word"},[a("h3",{staticClass:"title",on:{click:function(a){return t.goToDaily(s.router)}}},[t._v(t._s(s.name))]),a("p",{staticClass:"description"},[t._v(t._s(s.description))])]),a("img",{staticClass:"image",attrs:{src:s.image}})])})),0)],1)],1)},o=[];a.d(s,"a",(function(){return n})),a.d(s,"b",(function(){return o}))},"206f":function(t,s,a){},"288e":function(t,s,a){"use strict";var n=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ea-view",{attrs:{center:""}},[a("image-dialog-md",{scopedSlots:t._u([{key:"table",fn:function(){return[a("document-table",{attrs:{data:t.attributes}})]},proxy:!0}])},[a("demo-block",{scopedSlots:t._u([{key:"source",fn:function(){return[a("ea-image",{attrs:{src:t.src,size:"large",hover:"",icon:"el-icon-plus"},on:{click:function(s){return t.dialog()}}}),a("div",[a("el-button",{on:{click:function(s){t.dialogVisible=!0}}},[t._v("通过组件调用选择器")]),a("el-button",{on:{click:function(s){return t.dialog()}}},[t._v("通过方法调用选择器")])],1)]},proxy:!0},{key:"highlight",fn:function(){return[a("default-md")]},proxy:!0}])})],1),a("ea-image-dialog",{attrs:{action:"https://jsonplaceholder.typicode.com/posts/",visible:t.dialogVisible,"on-success":t.onSuccess},on:{"update:visible":function(s){t.dialogVisible=s},confirm:t.onConfirm}})],1)},o=[];a.d(s,"a",(function(){return n})),a.d(s,"b",(function(){return o}))},"29e6":function(t,s,a){var n,o,c;(function(e,i){o=[s,a("7915")],n=i,c="function"===typeof n?n.apply(s,o):n,void 0===c||(t.exports=c)})("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,(function(t,s){"use strict";var n=a("1bd5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,s=n(s);var o={components:{es:s.default}};t.default=o}))},"2b3d":function(t,s,a){"use strict";a("3ca3");var n,o=a("23e7"),c=a("83ab"),e=a("0d3b"),i=a("da84"),p=a("37e8"),v=a("6eeb"),_=a("19aa"),u=a("5135"),l=a("60da"),k=a("4df4"),C=a("6547").codeAt,r=a("c98e"),f=a("d44e"),d=a("9861"),m=a("69f3"),h=i.URL,y=d.URLSearchParams,w=d.getState,g=m.set,b=m.getterFor("URL"),x=Math.floor,j=Math.pow,P="Invalid authority",S="Invalid scheme",A="Invalid host",q="Invalid port",E=/[A-Za-z]/,B=/[\d+\-.A-Za-z]/,L=/\d/,O=/^(0x|0X)/,R=/^[0-7]+$/,U=/^\d+$/,F=/^[\dA-Fa-f]+$/,D=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,N=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,$=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,M=/[\u0009\u000A\u000D]/g,T=function(t,s){var a,n,o;if("["==s.charAt(0)){if("]"!=s.charAt(s.length-1))return A;if(a=V(s.slice(1,-1)),!a)return A;t.host=a}else if(Q(t)){if(s=r(s),D.test(s))return A;if(a=I(s),null===a)return A;t.host=a}else{if(N.test(s))return A;for(a="",n=k(s),o=0;o<n.length;o++)a+=X(n[o],H);t.host=a}},I=function(t){var s,a,n,o,c,e,i,p=t.split(".");if(p.length&&""==p[p.length-1]&&p.pop(),s=p.length,s>4)return t;for(a=[],n=0;n<s;n++){if(o=p[n],""==o)return t;if(c=10,o.length>1&&"0"==o.charAt(0)&&(c=O.test(o)?16:8,o=o.slice(8==c?1:2)),""===o)e=0;else{if(!(10==c?U:8==c?R:F).test(o))return t;e=parseInt(o,c)}a.push(e)}for(n=0;n<s;n++)if(e=a[n],n==s-1){if(e>=j(256,5-s))return null}else if(e>255)return null;for(i=a.pop(),n=0;n<a.length;n++)i+=a[n]*j(256,3-n);return i},V=function(t){var s,a,n,o,c,e,i,p=[0,0,0,0,0,0,0,0],v=0,_=null,u=0,l=function(){return t.charAt(u)};if(":"==l()){if(":"!=t.charAt(1))return;u+=2,v++,_=v}while(l()){if(8==v)return;if(":"!=l()){s=a=0;while(a<4&&F.test(l()))s=16*s+parseInt(l(),16),u++,a++;if("."==l()){if(0==a)return;if(u-=a,v>6)return;n=0;while(l()){if(o=null,n>0){if(!("."==l()&&n<4))return;u++}if(!L.test(l()))return;while(L.test(l())){if(c=parseInt(l(),10),null===o)o=c;else{if(0==o)return;o=10*o+c}if(o>255)return;u++}p[v]=256*p[v]+o,n++,2!=n&&4!=n||v++}if(4!=n)return;break}if(":"==l()){if(u++,!l())return}else if(l())return;p[v++]=s}else{if(null!==_)return;u++,v++,_=v}}if(null!==_){e=v-_,v=7;while(0!=v&&e>0)i=p[v],p[v--]=p[_+e-1],p[_+--e]=i}else if(8!=v)return;return p},z=function(t){for(var s=null,a=1,n=null,o=0,c=0;c<8;c++)0!==t[c]?(o>a&&(s=n,a=o),n=null,o=0):(null===n&&(n=c),++o);return o>a&&(s=n,a=o),s},J=function(t){var s,a,n,o;if("number"==typeof t){for(s=[],a=0;a<4;a++)s.unshift(t%256),t=x(t/256);return s.join(".")}if("object"==typeof t){for(s="",n=z(t),a=0;a<8;a++)o&&0===t[a]||(o&&(o=!1),n===a?(s+=a?":":"::",o=!0):(s+=t[a].toString(16),a<7&&(s+=":")));return"["+s+"]"}return t},H={},G=l({},H,{" ":1,'"':1,"<":1,">":1,"`":1}),W=l({},G,{"#":1,"?":1,"{":1,"}":1}),Z=l({},W,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),X=function(t,s){var a=C(t,0);return a>32&&a<127&&!u(s,t)?t:encodeURIComponent(t)},K={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},Q=function(t){return u(K,t.scheme)},Y=function(t){return""!=t.username||""!=t.password},tt=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},st=function(t,s){var a;return 2==t.length&&E.test(t.charAt(0))&&(":"==(a=t.charAt(1))||!s&&"|"==a)},at=function(t){var s;return t.length>1&&st(t.slice(0,2))&&(2==t.length||"/"===(s=t.charAt(2))||"\\"===s||"?"===s||"#"===s)},nt=function(t){var s=t.path,a=s.length;!a||"file"==t.scheme&&1==a&&st(s[0],!0)||s.pop()},ot=function(t){return"."===t||"%2e"===t.toLowerCase()},ct=function(t){return t=t.toLowerCase(),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},et={},it={},pt={},vt={},_t={},ut={},lt={},kt={},Ct={},rt={},ft={},dt={},mt={},ht={},yt={},wt={},gt={},bt={},xt={},jt={},Pt={},St=function(t,s,a,o){var c,e,i,p,v=a||et,_=0,l="",C=!1,r=!1,f=!1;a||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,s=s.replace($,"")),s=s.replace(M,""),c=k(s);while(_<=c.length){switch(e=c[_],v){case et:if(!e||!E.test(e)){if(a)return S;v=pt;continue}l+=e.toLowerCase(),v=it;break;case it:if(e&&(B.test(e)||"+"==e||"-"==e||"."==e))l+=e.toLowerCase();else{if(":"!=e){if(a)return S;l="",v=pt,_=0;continue}if(a&&(Q(t)!=u(K,l)||"file"==l&&(Y(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=l,a)return void(Q(t)&&K[t.scheme]==t.port&&(t.port=null));l="","file"==t.scheme?v=ht:Q(t)&&o&&o.scheme==t.scheme?v=vt:Q(t)?v=kt:"/"==c[_+1]?(v=_t,_++):(t.cannotBeABaseURL=!0,t.path.push(""),v=xt)}break;case pt:if(!o||o.cannotBeABaseURL&&"#"!=e)return S;if(o.cannotBeABaseURL&&"#"==e){t.scheme=o.scheme,t.path=o.path.slice(),t.query=o.query,t.fragment="",t.cannotBeABaseURL=!0,v=Pt;break}v="file"==o.scheme?ht:ut;continue;case vt:if("/"!=e||"/"!=c[_+1]){v=ut;continue}v=Ct,_++;break;case _t:if("/"==e){v=rt;break}v=bt;continue;case ut:if(t.scheme=o.scheme,e==n)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query;else if("/"==e||"\\"==e&&Q(t))v=lt;else if("?"==e)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query="",v=jt;else{if("#"!=e){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.path.pop(),v=bt;continue}t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query,t.fragment="",v=Pt}break;case lt:if(!Q(t)||"/"!=e&&"\\"!=e){if("/"!=e){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,v=bt;continue}v=rt}else v=Ct;break;case kt:if(v=Ct,"/"!=e||"/"!=l.charAt(_+1))continue;_++;break;case Ct:if("/"!=e&&"\\"!=e){v=rt;continue}break;case rt:if("@"==e){C&&(l="%40"+l),C=!0,i=k(l);for(var d=0;d<i.length;d++){var m=i[d];if(":"!=m||f){var h=X(m,Z);f?t.password+=h:t.username+=h}else f=!0}l=""}else if(e==n||"/"==e||"?"==e||"#"==e||"\\"==e&&Q(t)){if(C&&""==l)return P;_-=k(l).length+1,l="",v=ft}else l+=e;break;case ft:case dt:if(a&&"file"==t.scheme){v=wt;continue}if(":"!=e||r){if(e==n||"/"==e||"?"==e||"#"==e||"\\"==e&&Q(t)){if(Q(t)&&""==l)return A;if(a&&""==l&&(Y(t)||null!==t.port))return;if(p=T(t,l),p)return p;if(l="",v=gt,a)return;continue}"["==e?r=!0:"]"==e&&(r=!1),l+=e}else{if(""==l)return A;if(p=T(t,l),p)return p;if(l="",v=mt,a==dt)return}break;case mt:if(!L.test(e)){if(e==n||"/"==e||"?"==e||"#"==e||"\\"==e&&Q(t)||a){if(""!=l){var y=parseInt(l,10);if(y>65535)return q;t.port=Q(t)&&y===K[t.scheme]?null:y,l=""}if(a)return;v=gt;continue}return q}l+=e;break;case ht:if(t.scheme="file","/"==e||"\\"==e)v=yt;else{if(!o||"file"!=o.scheme){v=bt;continue}if(e==n)t.host=o.host,t.path=o.path.slice(),t.query=o.query;else if("?"==e)t.host=o.host,t.path=o.path.slice(),t.query="",v=jt;else{if("#"!=e){at(c.slice(_).join(""))||(t.host=o.host,t.path=o.path.slice(),nt(t)),v=bt;continue}t.host=o.host,t.path=o.path.slice(),t.query=o.query,t.fragment="",v=Pt}}break;case yt:if("/"==e||"\\"==e){v=wt;break}o&&"file"==o.scheme&&!at(c.slice(_).join(""))&&(st(o.path[0],!0)?t.path.push(o.path[0]):t.host=o.host),v=bt;continue;case wt:if(e==n||"/"==e||"\\"==e||"?"==e||"#"==e){if(!a&&st(l))v=bt;else if(""==l){if(t.host="",a)return;v=gt}else{if(p=T(t,l),p)return p;if("localhost"==t.host&&(t.host=""),a)return;l="",v=gt}continue}l+=e;break;case gt:if(Q(t)){if(v=bt,"/"!=e&&"\\"!=e)continue}else if(a||"?"!=e)if(a||"#"!=e){if(e!=n&&(v=bt,"/"!=e))continue}else t.fragment="",v=Pt;else t.query="",v=jt;break;case bt:if(e==n||"/"==e||"\\"==e&&Q(t)||!a&&("?"==e||"#"==e)){if(ct(l)?(nt(t),"/"==e||"\\"==e&&Q(t)||t.path.push("")):ot(l)?"/"==e||"\\"==e&&Q(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&st(l)&&(t.host&&(t.host=""),l=l.charAt(0)+":"),t.path.push(l)),l="","file"==t.scheme&&(e==n||"?"==e||"#"==e))while(t.path.length>1&&""===t.path[0])t.path.shift();"?"==e?(t.query="",v=jt):"#"==e&&(t.fragment="",v=Pt)}else l+=X(e,W);break;case xt:"?"==e?(t.query="",v=jt):"#"==e?(t.fragment="",v=Pt):e!=n&&(t.path[0]+=X(e,H));break;case jt:a||"#"!=e?e!=n&&("'"==e&&Q(t)?t.query+="%27":t.query+="#"==e?"%23":X(e,H)):(t.fragment="",v=Pt);break;case Pt:e!=n&&(t.fragment+=X(e,G));break}_++}},At=function(t){var s,a,n=_(this,At,"URL"),o=arguments.length>1?arguments[1]:void 0,e=String(t),i=g(n,{type:"URL"});if(void 0!==o)if(o instanceof At)s=b(o);else if(a=St(s={},String(o)),a)throw TypeError(a);if(a=St(i,e,null,s),a)throw TypeError(a);var p=i.searchParams=new y,v=w(p);v.updateSearchParams(i.query),v.updateURL=function(){i.query=String(p)||null},c||(n.href=Et.call(n),n.origin=Bt.call(n),n.protocol=Lt.call(n),n.username=Ot.call(n),n.password=Rt.call(n),n.host=Ut.call(n),n.hostname=Ft.call(n),n.port=Dt.call(n),n.pathname=Nt.call(n),n.search=$t.call(n),n.searchParams=Mt.call(n),n.hash=Tt.call(n))},qt=At.prototype,Et=function(){var t=b(this),s=t.scheme,a=t.username,n=t.password,o=t.host,c=t.port,e=t.path,i=t.query,p=t.fragment,v=s+":";return null!==o?(v+="//",Y(t)&&(v+=a+(n?":"+n:"")+"@"),v+=J(o),null!==c&&(v+=":"+c)):"file"==s&&(v+="//"),v+=t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):"",null!==i&&(v+="?"+i),null!==p&&(v+="#"+p),v},Bt=function(){var t=b(this),s=t.scheme,a=t.port;if("blob"==s)try{return new URL(s.path[0]).origin}catch(n){return"null"}return"file"!=s&&Q(t)?s+"://"+J(t.host)+(null!==a?":"+a:""):"null"},Lt=function(){return b(this).scheme+":"},Ot=function(){return b(this).username},Rt=function(){return b(this).password},Ut=function(){var t=b(this),s=t.host,a=t.port;return null===s?"":null===a?J(s):J(s)+":"+a},Ft=function(){var t=b(this).host;return null===t?"":J(t)},Dt=function(){var t=b(this).port;return null===t?"":String(t)},Nt=function(){var t=b(this),s=t.path;return t.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):""},$t=function(){var t=b(this).query;return t?"?"+t:""},Mt=function(){return b(this).searchParams},Tt=function(){var t=b(this).fragment;return t?"#"+t:""},It=function(t,s){return{get:t,set:s,configurable:!0,enumerable:!0}};if(c&&p(qt,{href:It(Et,(function(t){var s=b(this),a=String(t),n=St(s,a);if(n)throw TypeError(n);w(s.searchParams).updateSearchParams(s.query)})),origin:It(Bt),protocol:It(Lt,(function(t){var s=b(this);St(s,String(t)+":",et)})),username:It(Ot,(function(t){var s=b(this),a=k(String(t));if(!tt(s)){s.username="";for(var n=0;n<a.length;n++)s.username+=X(a[n],Z)}})),password:It(Rt,(function(t){var s=b(this),a=k(String(t));if(!tt(s)){s.password="";for(var n=0;n<a.length;n++)s.password+=X(a[n],Z)}})),host:It(Ut,(function(t){var s=b(this);s.cannotBeABaseURL||St(s,String(t),ft)})),hostname:It(Ft,(function(t){var s=b(this);s.cannotBeABaseURL||St(s,String(t),dt)})),port:It(Dt,(function(t){var s=b(this);tt(s)||(t=String(t),""==t?s.port=null:St(s,t,mt))})),pathname:It(Nt,(function(t){var s=b(this);s.cannotBeABaseURL||(s.path=[],St(s,t+"",gt))})),search:It($t,(function(t){var s=b(this);t=String(t),""==t?s.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),s.query="",St(s,t,jt)),w(s.searchParams).updateSearchParams(s.query)})),searchParams:It(Mt),hash:It(Tt,(function(t){var s=b(this);t=String(t),""!=t?("#"==t.charAt(0)&&(t=t.slice(1)),s.fragment="",St(s,t,Pt)):s.fragment=null}))}),v(qt,"toJSON",(function(){return Et.call(this)}),{enumerable:!0}),v(qt,"toString",(function(){return Et.call(this)}),{enumerable:!0}),h){var Vt=h.createObjectURL,zt=h.revokeObjectURL;Vt&&v(At,"createObjectURL",(function(t){return Vt.apply(h,arguments)})),zt&&v(At,"revokeObjectURL",(function(t){return zt.apply(h,arguments)}))}f(At,"URL"),o({global:!0,forced:!e,sham:!c},{URL:At})},"3ca3":function(t,s,a){"use strict";var n=a("6547").charAt,o=a("69f3"),c=a("7dd0"),e="String Iterator",i=o.set,p=o.getterFor(e);c(String,"String",(function(t){i(this,{type:e,string:String(t),index:0})}),(function(){var t,s=p(this),a=s.string,o=s.index;return o>=a.length?{value:void 0,done:!0}:(t=n(a,o),s.index+=t.length,{value:t,done:!1})}))},"477d":function(t,s,a){var n,o,c;a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),function(e,i){o=[s,a("b5b9"),a("7b3c"),a("efca")],n=i,c="function"===typeof n?n.apply(s,o):n,void 0===c||(t.exports=c)}("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,(function(t,s,n,o){"use strict";var c=a("1bd5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,s=c(s),n=c(n),o=c(o);var e={name:"ImageDialog",components:{imageDialogMd:s.default,defaultMd:n.default},props:{},watch:{},data:function(){return{attributes:o.default,dialogVisible:!1,src:""}},methods:{onSuccess:function(t,s){var a=t.file;s(URL.createObjectURL(a.raw))},onConfirm:function(t){this.src=t,this.dialogVisible=!1},dialog:function(){var t=this;this.$imageDialog({src:this.src,action:"https://jsonplaceholder.typicode.com/posts/",required:!0,onSuccess:this.onSuccess}).then((function(s){t.src=s}))}},created:function(){},mounted:function(){}};t.default=e}))},"4d77":function(t,s,a){"use strict";a.r(s);var n=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"markdown"},[a("h1",[a("a",{attrs:{href:"http://nodejs.cn/api/"}},[t._v("Nodejs")])]),a("h3",[t._v("一、Hello World")]),a("ol",[a("li",[t._v("创建js脚本文件 （尽量不要使用 node.js 和中文来进行命名）")]),a("li",[t._v("打开终端，定位到脚本目录")]),a("li",[t._v("输入 node 文件名，执行对应的文件")])]),a("h3",[t._v("二、Node中的模块化")]),a("h4",[t._v("2.1 模块分类")]),a("ol",[a("li",[t._v("核心模块：在 node 为 js 提供了很多服务器级别的 API，这些 API 绝大多数都被包装到了一个具名的核心模块中，加载核心模块需要用到 require() 方法")]),a("li",[t._v("用户自定义模块")]),a("li",[t._v("第三方模块：(第三方包)")])]),a("h4",[t._v("2.2 什么是模块化")]),a("ol",[a("li",[t._v("具有文件作用域 (模块作用域)")]),a("li",[t._v("具有通信规则 ：加载和导出(即使用 require 和 exports)")])]),a("h4",[t._v("2.3 require 和 exports")]),a("p",[a("strong",[t._v("通过这两个方法来实现模块与模块之间相互通信")])]),a("p",[t._v("require有两个方法：")]),a("ol",[a("li",[a("strong",[t._v("加载文件模块并执行里面的代码")])]),a("li",[a("strong",[t._v("拿到被加载文件模块导出的接口对象")])])]),a("pre",[a("code",{staticClass:"javascript"},[t._v("语法"),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" 变量 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("require")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'模块'")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("p",[t._v("exports：")]),a("blockquote",[t._v("Node 中的模块作用域，默认文件中所有的成员只在当前文件模块有限，对于希望可以被其他模块访问的成员，我们需要把这些公开的成员挂载到 exports 接口对象中。"),a("br"),t._v("在每一个文件模块中都提供了一个对象 exports ，exports 默认是一个空对象，要做的就是把所有需要被外部访问的成员挂载到这个 exports 对象中。")]),a("pre",[a("code",{staticClass:"javascript"},[a("span",{staticClass:"token comment"},[t._v("// 导出多个成员 （必须在对象中）")]),t._v("\nexports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("a "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("123")]),t._v("\nexports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("b "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v('"hello"')]),t._v("\nexports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("c")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v("\nexports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("d "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\nfoo"),a("span",{staticClass:"token operator"},[t._v(":")]),a("span",{staticClass:"token string"},[t._v('"asf"')]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token operator"},[t._v("...")]),a("span",{staticClass:"token operator"},[t._v("...")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 导出单个成员 (拿到就是：一个函数、字符串...)")]),t._v("\nmodule"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("exports "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'hello'")]),t._v("\nmodule"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("exports")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 多个导出会覆盖上一个")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 也可以导出多个成员")]),t._v("\nmodule"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("exports "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function-variable function"},[t._v("add")]),a("span",{staticClass:"token operator"},[t._v(":")]),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n  str"),a("span",{staticClass:"token operator"},[t._v(":")]),a("span",{staticClass:"token string"},[t._v("'hello'")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")])])]),a("h4",[t._v("2.4 import 和 require")]),a("blockquote",[t._v("Node 编程中最重要的思想就是模块化，"),a("code",[t._v("import")]),t._v(" 和 "),a("code",[t._v("require")]),t._v(" 都是被模块化所使用。")]),a("h5",[t._v("2.4.1、遵循规范")]),a("blockquote",[t._v("require 是 AMD 规范引入模式。"),a("br"),t._v("import 是 ES6 的一个标准语法，如果要兼容浏览器的话必须转成 ES5 的语法。")]),a("h5",[t._v("2.4.2、调用时间")]),a("blockquote",[t._v("require 是运行时调用，所以 require 理论上可以运用在代码的任何地方。"),a("br"),t._v("import 是编译时调用，所以必须放在文件开头。")]),a("h5",[t._v("2.4.3、本质")]),a("blockquote",[t._v("require 是赋值过程，其实 require 的结果就是对象、数字、字符串、函数等，再把 require 的结果赋值给某个变量。"),a("br"),t._v("import 是解构过程，但是目前所有的引擎都还没有实现 import，我们在node中使用 babel支持 ES6，也仅仅是将 ES6 转码为 ES5 再执行，import 语法会被转码为 require。")]),a("h5",[t._v("2.4.4、require / exports 和 import / export")]),a("blockquote",[t._v("require / exports ：遵循 CommonJS/AMD，只能在运行时确定模块的依赖关系及输入/输出的变量，无法进行静态优化。用法只有以下三种简单的写法：")]),a("pre",[a("code",{staticClass:"javascript"},[t._v("  "),a("span",{staticClass:"token keyword"},[t._v("const")]),t._v(" fs "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("require")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'fs'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  exports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("fs "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" fs\n  module"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("exports "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" fs")])]),a("blockquote",[t._v("import / export：遵循 ES6 规范，支持编译时静态分析，便于JS引入宏和类型检验。动态绑定。写法就比较多种多样：")]),a("pre",[a("code",{staticClass:"javascript"},[t._v("  "),a("span",{staticClass:"token keyword"},[t._v("import")]),t._v(" fs "),a("span",{staticClass:"token keyword"},[t._v("from")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'fs'")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("import")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),a("span",{staticClass:"token keyword"},[t._v("default")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("as")]),t._v(" fs"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("from")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'fs'")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("import")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("*")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("as")]),t._v(" fs "),a("span",{staticClass:"token keyword"},[t._v("from")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'fs'")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("import")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("readFile"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("from")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'fs'")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("import")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("readFile "),a("span",{staticClass:"token keyword"},[t._v("as")]),t._v(" read"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("from")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'fs'")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("import")]),t._v(" fs"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("readFile"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("from")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'fs'")]),t._v("\n  \n  "),a("span",{staticClass:"token keyword"},[t._v("export")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("default")]),t._v(" fs\n  "),a("span",{staticClass:"token keyword"},[t._v("export")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("const")]),t._v(" fs\n  "),a("span",{staticClass:"token keyword"},[t._v("export")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" readFile\n  "),a("span",{staticClass:"token keyword"},[t._v("export")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("readFile"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" read"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("export")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("*")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("from")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'fs'")])])]),a("blockquote",[a("ol",[a("li",[t._v("通过require引入基础数据类型时，属于复制该变量。")]),a("li",[t._v("通过require引入复杂数据类型时，数据浅拷贝该对象。")]),a("li",[t._v("出现模块之间的循环引用时，会输出已经执行的模块，而未执行的模块不输出（比较复杂）。")]),a("li",[t._v("CommonJS模块默认export的是一个对象，即使导出的是基础数据类型。")])])]),a("pre",[a("code",{staticClass:"javascript"},[a("span",{staticClass:"token comment"},[t._v("// 实例")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// counter.js")]),t._v("\nexports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("count "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("0")]),t._v("\n"),a("span",{staticClass:"token function"},[t._v("setTimeout")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'increase count to'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("++")]),t._v("exports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("count"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'in counter.js after 500ms'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("500")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("// commonjs.js")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("const")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("count"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("require")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'./counter'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token function"},[t._v("setTimeout")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'read count after 1000ms in commonjs is'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" count"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("1000")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("//es6.js")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("import")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("count"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("from")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'./counter'")]),t._v("\n"),a("span",{staticClass:"token function"},[t._v("setTimeout")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'read count after 1000ms in es6 is'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" count"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("1000")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n\n➜  test node commonjs"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("js\nincrease count to "),a("span",{staticClass:"token number"},[t._v("1")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("in")]),t._v(" counter"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("js after "),a("span",{staticClass:"token number"},[t._v("500")]),t._v("ms\nread count after "),a("span",{staticClass:"token number"},[t._v("1000")]),t._v("ms "),a("span",{staticClass:"token keyword"},[t._v("in")]),t._v(" commonjs is "),a("span",{staticClass:"token number"},[t._v("0")]),t._v("\n\n➜  test babel"),a("span",{staticClass:"token operator"},[t._v(">")]),t._v("node es6"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("js\nincrease count to "),a("span",{staticClass:"token number"},[t._v("1")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("in")]),t._v(" counter"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("js after "),a("span",{staticClass:"token number"},[t._v("500")]),t._v("ms\nread count after "),a("span",{staticClass:"token number"},[t._v("1000")]),t._v("ms "),a("span",{staticClass:"token keyword"},[t._v("in")]),t._v(" es6 is "),a("span",{staticClass:"token number"},[t._v("1")])])]),a("h4",[t._v("2.5 exports 和 module.exports 的区别")]),a("h5",[t._v("2.5.1 原理")]),a("p",[t._v("每一个模块中都有一个 module 对象，而 module 对象中有一个 exports 对象")]),a("pre",[a("code",{staticClass:"javascript"},[a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" module "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  exports"),a("span",{staticClass:"token operator"},[t._v(":")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    \n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("exports "),a("span",{staticClass:"token operator"},[t._v("===")]),t._v(" module"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("exports"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("  "),a("span",{staticClass:"token comment"},[t._v("// true")])])]),a("p",[t._v("exports 是 module.exports 的一个引用")]),a("pre",[a("code",{staticClass:"javascript"},[t._v("即：exports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'bar'")]),t._v(" 等价于 module"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("exports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'bar'")])])]),a("blockquote",[t._v("我们可以把需要导出的成员都挂载到 module.exports 接口对象中，也就是 "),a("code",[t._v("module.exports.xxx = xxx")]),t._v(" 的形式，很麻烦。。"),a("br"),t._v("所以 Node 为了方便，同时在每一个模块中都提供了一个成员叫 exports ，所以对于 "),a("code",[t._v("module.exports.xxx = xxx")]),t._v(" 的方式，完全可以 "),a("code",[t._v("exports.xxx = xxx")]),t._v(" 。"),a("br"),t._v("当一个模块需要导出单个成员的时候，必须使用 "),a("code",[t._v("module.exports = xxx")]),t._v(" 的方式，不要使用 "),a("code",[t._v("exports = xxx")]),t._v(" 不管用。"),a("br"),a("strong",[t._v("因为每个模块最终向外 return 的是 module.exports")]),t._v("，而 exports 是 module.exports 的一个引用 ，所以即便为 "),a("code",[t._v("exports = xx")]),t._v(" 重新赋值，也不会影响 module.exports。"),a("br"),t._v("但是有一种赋值方式比较特殊： "),a("code",[t._v("module.exports = exports")]),t._v(" ，这个用来重新建立引用关系")]),a("h5",[t._v("2.5.2 exports 和 module.exports 的实例")]),a("pre",[a("code",{staticClass:"javascript"},[a("span",{staticClass:"token comment"},[t._v("// 用于理解引用关系 ")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" obj "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" obj1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" obj "),a("span",{staticClass:"token comment"},[t._v("// {}")]),t._v("\nobj1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'bar'")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// {foo:'bar'}")]),t._v("\nobj"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'hello'")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// {foo:'hello'}")]),t._v("\n\nobj1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("  "),a("span",{staticClass:"token comment"},[t._v("// {}")]),t._v("\nobj1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'world'")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// {foo:'world'}")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("obj"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("foo"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// {foo:'hello'}")])])]),a("pre",[a("code",{staticClass:"javascript"},[a("span",{staticClass:"token comment"},[t._v("// 实例一")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 也就是说在模块中还有这一句代码,两者一致，说明我可以使用任意一方来导出内部成员")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("exports "),a("span",{staticClass:"token operator"},[t._v("===")]),t._v(" module"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("exports"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// true")]),t._v("\nexports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'bar'")]),t._v("\nmodule"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("exports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("add")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("x"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("y")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" x "),a("span",{staticClass:"token operator"},[t._v("+")]),t._v(" y\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// {foo:'bar',add:Function}")])])]),a("pre",[a("code",{staticClass:"javascript"},[a("span",{staticClass:"token comment"},[t._v("// 实例二")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 当一个模块需要导出单个成员的时候，直接给exports赋值是不管用的，和module.exports已经没有关系了")]),t._v("\nexports "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'hello'")]),t._v("   "),a("span",{staticClass:"token comment"},[t._v("// 赋值语句，这时 exports 和 module.exports 已经没有关系了")]),t._v("\nexports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'bar'")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// 这时只是修改上面的 exports 的值")]),t._v("\nmodule"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("exports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("add")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("x"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("y")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" x "),a("span",{staticClass:"token operator"},[t._v("+")]),t._v(" y\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("//最后输出： {add : Function}")])])]),a("pre",[a("code",{staticClass:"javascript"},[a("span",{staticClass:"token comment"},[t._v("// 实例三")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 给 exports 重新赋值就不管用，就丢失了引用关系，同理给 module.exports 重新赋值，也会丢失，这里两者脱离关系 exports !== module.exports")]),t._v("\nmodule"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("exports "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'hello'")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// 重新赋值")]),t._v("\nexports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'world'")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// exports !== module.exports")]),t._v("\n\nmodule"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("exports "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  foo"),a("span",{staticClass:"token operator"},[t._v(":")]),a("span",{staticClass:"token string"},[t._v("'hello'")]),t._v(" \n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("                                      "),a("span",{staticClass:"token comment"},[t._v("// 覆盖 module.exports = 'hello' ")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 这里重新建立引用关系")]),t._v("\nexports "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" module"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("exports\n"),a("span",{staticClass:"token comment"},[t._v("// 所以 结果为 {foo:'world'}")]),t._v("\nexports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'world'")]),t._v("  "),a("span",{staticClass:"token comment"},[t._v("// 修改了 module.exports.foo")])])]),a("pre",[a("code",{staticClass:"javascript"},[a("span",{staticClass:"token comment"},[t._v("// 实例四")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// {foo:'hello'}")]),t._v("\nexports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'hello'")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// {foo:'hello',a:123}")]),t._v("\nmodule"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("exports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("a "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("123")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// exports !== module.exports")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 最终return的是module.exports")]),t._v("\nexports "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  a"),a("span",{staticClass:"token operator"},[t._v(":")]),a("span",{staticClass:"token number"},[t._v("456")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// {foo:'hha',a:123}")]),t._v("\nmodule"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("exports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'hha'")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 没关系")]),t._v("\nexports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("c "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("456")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 重新建立和module.exports的引用关系")]),t._v("\nexports "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" module"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("exports\n"),a("span",{staticClass:"token comment"},[t._v("// {foo:'hha',a:789}")]),t._v("\nexports"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("a "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("789")])])]),a("h4",[t._v("2.6 fs 模块 (文件系统)")]),a("h5",[t._v("2.6.1 fs.readFile() 读文件")]),a("ol",[a("li",[t._v("第一个参数：读取的文件路径")]),a("li",[t._v("第二个参数：回调函数 (error,data)=>{}")])]),a("blockquote",[t._v("成功时，data 为读取的数据(文件存储数据类型为：二进制数据)，error 为 Null ，失败时， data 为 Undefined，error 是错误对象。")]),a("pre",[a("code",{staticClass:"javascript"},[a("span",{staticClass:"token operator"},[t._v("<")]),t._v("Buffer e4 bd a0 e5 a5 bd ef bc "),a("span",{staticClass:"token number"},[t._v("8")]),t._v("c "),a("span",{staticClass:"token number"},[t._v("6")]),t._v("e "),a("span",{staticClass:"token number"},[t._v("6")]),t._v("f "),a("span",{staticClass:"token number"},[t._v("64")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("65")]),a("span",{staticClass:"token operator"},[t._v(">")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 为什么不是二进制数据？是因为二进制转成16进制,我们可以通过toString方法转换成文件中的数据")])])]),a("h5",[t._v("2.6.2 fs.writeFile() 写文件")]),a("ol",[a("li",[t._v("第一个参数：要写入的路径及文件名称")]),a("li",[t._v("第二个参数：写入的文件内容或者模板")]),a("li",[t._v("第三个参数：回调函数 (error,data)=>{}")])]),a("blockquote",[t._v("成功时，文件写入成功，error 为 Null ， 失败时，error 为错误对象")]),a("h5",[t._v("2.6.3 fs.mkdir() 创建文件夹")]),a("ol",[a("li",[t._v("第一个参数：要创建的路径及文件夹名称")]),a("li",[t._v("第二个参数：回调函数 (error)=>{}")])]),a("h5",[t._v("2.6.4 fs.existsSync() 判断文件或文件夹是否存在")]),a("ul",[a("li",[t._v("参数：要判断的文件路径，返回值是一个 Boolean")])]),a("h4",[t._v("2.7 Process 进程")]),a("ul",[a("li",[t._v("process.argv，属性返回的是一个数组，其中包含启动 Node.js 进程时传递的命令行参数的数组")])]),a("pre",[a("code",{staticClass:"javascript"},[t._v("process"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("argv"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("forEach")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("val"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" index")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=>")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token template-string"},[a("span",{staticClass:"token template-punctuation string"},[t._v("`")]),a("span",{staticClass:"token interpolation"},[a("span",{staticClass:"token interpolation-punctuation punctuation"},[t._v("${")]),t._v("index"),a("span",{staticClass:"token interpolation-punctuation punctuation"},[t._v("}")])]),a("span",{staticClass:"token string"},[t._v(": ")]),a("span",{staticClass:"token interpolation"},[a("span",{staticClass:"token interpolation-punctuation punctuation"},[t._v("${")]),t._v("val"),a("span",{staticClass:"token interpolation-punctuation punctuation"},[t._v("}")])]),a("span",{staticClass:"token template-punctuation string"},[t._v("`")])]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 数组第一项：node的路径")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 数组第二项：编译文件的路径")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 数组第三项：自己写入的内容")])])]),a("ul",[a("li",[t._v("process.env，属性返回包含用户环境的对象，在项目中配置文件中经常看到")])]),a("pre",[a("code",{staticClass:"javascript"},[t._v("process"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("env"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token constant"},[t._v("NODE_ENV")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'development'")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("||")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'production'")]),t._v("\nprocess"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("env"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token constant"},[t._v("VUE_APP_ENV")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'test'")])])]),a("h4",[t._v("2.8 http 模块 (构建web服务器)")]),a("h5",[t._v("2.8.1 创建 http 服务器的过程")]),a("ol",[a("li",[t._v("加载核心模块 http")]),a("li",[t._v("使用 http.createServer() 方法来创建一个web实例")]),a("li",[t._v("服务器提供服务：对数据的服务，发请求，接受请求，处理请求，给反馈(发送响应)")]),a("li",[t._v("绑定端口号，启动服务器")])]),a("h5",[t._v("2.8.2 requset 和 response")]),a("blockquote",[t._v("request: 请求对象，可以用来获取客户端的一些请求信息，例如：请求路径"),a("br"),t._v("response：响应对象，响应对象可以用来给客户端发送响应信息")]),a("blockquote",[t._v("1、request.url 返回端口号后面的地址"),a("br"),t._v("2、response.write() 可以给客户端发送响应数据，write 可以写多次，但是最后一次必须使用 end() 来结束响应，否则客户端会一直等待(浏览器会一直转)。"),a("br"),t._v("3、一次写多次 write 也比较麻烦，因为一个请求对应了一个响应，所以推荐使用 end 直接发送数据"),a("br"),t._v("4、response.end() 支持两种数据类型，一种是字符串，一种是二进制")]),a("h5",[t._v("2.8.3 Content-Type")]),a("p",[t._v("在创建服务器后，通过 res.end('你好，node') ，在浏览器中响应的 “你好，node” 会乱码。原因：")]),a("blockquote",[t._v("在服务器默认发送的数据，其实是utf-8编码内容，但浏览器不知道你是 utf-8，所以会乱码。"),a("br"),t._v("浏览器在不知道服务器响应内容的编码情况下会按照当前操作系统的默认编码去解析，中文操作系统默认为 gbk。"),a("br"),t._v("在 http 协议中，Content-Type 就是用来告知对方我给你发送的数据是什么类型的。"),a("br"),t._v("Content-Type 不用的资源对应的 Content-Type 是不一样的，图片不属于指定编码，所以不需要写后端的 charset=utf-8，一般只为字符串数据才指定编码。"),a("a",{attrs:{href:"https://www.runoob.com/http/http-content-type.html"}},[t._v("编码规则")])]),a("pre",[a("code",{staticClass:"javascript"},[a("span",{staticClass:"token comment"},[t._v("// 写法")]),t._v("\nres"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("setHeader")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'Content-Type'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),a("span",{staticClass:"token string"},[t._v("'text/plain;charset=utf-8'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nres"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("setHeader")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'Content-Type'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),a("span",{staticClass:"token string"},[t._v("'text/html;charset=utf-8'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nres"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("setHeader")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'Content-Type'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),a("span",{staticClass:"token string"},[t._v("'image/jpeg'")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("h4",[t._v("2.9 "),a("code",[t._v("__dirname")]),t._v("、"),a("code",[t._v("__filename")])]),a("blockquote",[t._v("在每个模块中，除了require exports 等模块相关 api之外，还有两个特殊的非模块成员")]),a("ul",[a("li",[t._v("__dirname: 动态获取可以用来获取当前文件模块所属目录的绝对路径")]),a("li",[t._v("__filename: 动态获取可以用来获取当前文件的绝对路径")])]),a("p",[t._v("​ "),a("strong",[t._v("path.join(__dirname,'aaa') 的由来")])]),a("ul",[a("li",[t._v("在文件操作中，使用相对路径是不可靠的，因为在node中文件操作的路径被设计为相对于执行node命令所处的路径。")]),a("li",[t._v("为了解决这个问题，只需要把相对路径变为绝对路径，在拼接路径过程中，推荐多使用path.join(__dirname)来辅助拼接。")])]),a("pre",[a("code",{staticClass:"javascript"},[a("span",{staticClass:"token comment"},[t._v("// 现在有一个文件夹：demo 文件夹")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("//   demo 文件夹中有一个 data 文件夹，和一个 a.js 文件")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("//   data 文件夹中有一个 b.txt，和一个 c.js文件")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("// a.js中")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" dataExprots "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("require")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'./data/c'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("// b.txt中")]),t._v("\nhello bbb\n\n"),a("span",{staticClass:"token comment"},[t._v("// c.js中")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" fs "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("require")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'fs'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nfs"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("readFile")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'./b.txt'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),a("span",{staticClass:"token string"},[t._v("'utf8'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("err"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("data")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token operator"},[t._v("=>")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("data"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("// 现在我在 data 文件夹中打开了终端，运行 node c.js")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 现在我在 demo 文件夹中打开了终端，运行 node data/c.js")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 现在我在 demo 文件夹中打开了终端，运行 node a.js")])])]),a("pre",[a("code",{staticClass:"javascript"},[a("span",{staticClass:"token comment"},[t._v("// 如果我把上面 c.js 改成以下代码")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" fs "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("require")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'fs'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" path "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("require")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'path'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nfs"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("readFile")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("path"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("join")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("__dirname"),a("span",{staticClass:"token punctuation"},[t._v(",")]),a("span",{staticClass:"token string"},[t._v("'b.txt'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),a("span",{staticClass:"token string"},[t._v("'utf8'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("err"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("data")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token operator"},[t._v("=>")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("data"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("// 现在我在 data 文件夹中打开了终端，运行 node c.js")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 现在我在 demo 文件夹中打开了终端，运行 node data/c.js")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 现在我在 demo 文件夹中打开了终端，运行 node a.js")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("// 总结： ./a.txt 是相对于执行 node 命令所处的终端路径，")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 在文件操作路径中，相对路径设计的就是相对于执行 node 命令所处的路径。")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 但是，引入模块中的路径标识和这里的路径没关系，不受影响，就是相对文件模块")])])])])}],c=a("2877"),e={},i=Object(c["a"])(e,n,o,!1,null,null,null);s["default"]=i.exports},"4de5":function(t,s,a){"use strict";a.r(s);var n=a("477d"),o=a.n(n);for(var c in n)"default"!==c&&function(t){a.d(s,t,(function(){return n[t]}))}(c);s["default"]=o.a},"4df4":function(t,s,a){"use strict";var n=a("f8c2"),o=a("7b0b"),c=a("9bdd"),e=a("e95a"),i=a("50c4"),p=a("8418"),v=a("35a1");t.exports=function(t){var s,a,_,u,l,k=o(t),C="function"==typeof this?this:Array,r=arguments.length,f=r>1?arguments[1]:void 0,d=void 0!==f,m=0,h=v(k);if(d&&(f=n(f,r>2?arguments[2]:void 0,2)),void 0==h||C==Array&&e(h))for(s=i(k.length),a=new C(s);s>m;m++)p(a,m,d?f(k[m],m):k[m]);else for(u=h.call(k),l=u.next,a=new C;!(_=l.call(u)).done;m++)p(a,m,d?c(u,f,[_.value,m],!0):_.value);return a.length=m,a}},5823:function(t,s,a){},"6dad":function(t,s,a){"use strict";var n=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ea-view",{staticClass:"ea-document",attrs:{center:""}},[a("node")],1)},o=[];a.d(s,"a",(function(){return n})),a.d(s,"b",(function(){return o}))},7915:function(t,s,a){"use strict";a.r(s);var n=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"markdown"},[a("h1",[t._v("ES5 和 ES6 中的类")]),a("h2",[t._v("一、类")]),a("h3",[t._v("1.1 ES5 中的类")]),a("h4",[t._v("1.1.1 "),a("a",{attrs:{href:"https://developer.51cto.com/art/201908/601418.htm"}},[t._v("工厂模式")])]),a("ul",[a("li",[t._v("没有解决对象识别的问题（即怎样知道一个对象的类型）。")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" car "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  car"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("color "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v('"blue"')]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n  car"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("doors "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("4")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n  car"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("showColor")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v(" \n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("color"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" car\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" car1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\ncar1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("showColor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("// 现在可以通过给函数传递不同的参数来得到具有不同值的对象。")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("color"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("doors")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" car "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  car"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("color "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" color"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n  car"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("doors "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" doors"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n  car"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("showColor")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v(" \n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("color"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" car\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" car1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'red'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),a("span",{staticClass:"token number"},[t._v("4")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\ncar1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("showColor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("// 但是事实上，每个对象都共享了同一个函数。")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("showColor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v(" \n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("color"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v(" \n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("color"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("doors")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v(" \n  "),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" ocar "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n  ocar"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("color "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" color"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n  ocar"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("doors "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" doors"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n  ocar"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("showColor "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" showColor"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n  "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" ocar"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v(" \n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" car1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'black'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),a("span",{staticClass:"token number"},[t._v("4")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\ncar1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("showColor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("h4",[t._v("1.1.2 构造函数方式")]),a("ul",[a("li",[t._v("使用 new 关键字")])]),a("ol",[a("li",[t._v("创建一个新对象")]),a("li",[t._v("将构造函数的作用域赋给新对象 (因此 this 就指向了这个新对象)")]),a("li",[t._v("执行构造函数中代码 (为新对象添加属性和方法)")]),a("li",[t._v("返回新对象")])]),a("blockquote",[t._v("原本的构造函数是window对象的方法，如果不用new操作符而直接调用，那么构造函数的执行对象就是window，即this指向了window。现在用new操作符后，this就指向了新生成的对象。"),a("br"),t._v("构造函数的优点是：我们可以根据参数来构造不同的对象实例 ，缺点是每次构造实例对象时都会生成showColor方法，造成了内存的浪费。"),a("br"),t._v("用一个外部函数来代替类方法，达到了每个对象共享同一个方法")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token comment"},[t._v("// 可以看到构造函数方式在函数内部没有创建对象，是用this关键字。因为在调用构造函数时已经创建了对象，而在函数内部只能用this来访问对象属性。")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("color"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("door")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v(" \n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("color "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" color"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("doors "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" door"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("showColor")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v(" \n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("color"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" \n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v(" \n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" car1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v('"red"')]),a("span",{staticClass:"token punctuation"},[t._v(",")]),a("span",{staticClass:"token number"},[t._v("4")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" car2 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v('"blue"')]),a("span",{staticClass:"token punctuation"},[t._v(",")]),a("span",{staticClass:"token number"},[t._v("4")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" ")])]),a("h4",[t._v("1.1.3 原型方式")]),a("blockquote",[t._v("该方式利用了对象的 prototype 属性。首先用空函数创建类名，然后所有的属性和方法都被赋予prototype属性。 "),a("br"),t._v("原型方式的缺点就是不能通过参数来构造对象实例 (一般每个对象的属性是不相同的) ，优点是所有对象实例都共享showColor方法")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v(" \n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v(" \n"),a("span",{staticClass:"token class-name"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("color "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v('"red"')]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n"),a("span",{staticClass:"token class-name"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("doors "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("4")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n"),a("span",{staticClass:"token class-name"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("showColor")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v(" \n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("color"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v(" \n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" car1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" ")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token comment"},[t._v("// 原型方式有个很严重的问题就是当属性指向的是对象引用时")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v(" \n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v(" \n"),a("span",{staticClass:"token class-name"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("arr "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Array")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v('"a"')]),a("span",{staticClass:"token punctuation"},[t._v(",")]),a("span",{staticClass:"token string"},[t._v('"b"')]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" car1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" car2 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \ncar1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("arr"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("push")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v('"cc"')]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("car1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("arr"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("   \nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("car2"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("arr"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("car1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("arr "),a("span",{staticClass:"token operator"},[t._v("===")]),t._v(" car2"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("arr"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("//这里由于数组的引用值，Car的两个对象指向的都是同一个数组，所以当在car1添加值后，在car2中也可以看到。")])])]),a("h4",[t._v("1.1.4 构造函数 + 原型")]),a("ul",[a("li",[t._v("用构造函数来定义类属性（字段）。用原型方式来定义类的方法。这样，我们就既可以构造不同属性的对象，也可以让对象实例共享方法，不会造成内存的浪费")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("color"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("door")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v(" \n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("color "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" color"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("arr "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Array")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v('"aa"')]),a("span",{staticClass:"token punctuation"},[t._v(",")]),a("span",{staticClass:"token string"},[t._v('"bb"')]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v(" \n"),a("span",{staticClass:"token class-name"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("showColor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v(" \n  "),a("span",{staticClass:"token function"},[t._v("alert")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("color"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v(" \n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" car1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v('"red"')]),a("span",{staticClass:"token punctuation"},[t._v(",")]),a("span",{staticClass:"token number"},[t._v("4")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" car2 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Car")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v('"blue"')]),a("span",{staticClass:"token punctuation"},[t._v(",")]),a("span",{staticClass:"token number"},[t._v("4")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \ncar1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("arr"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("push")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v('"cc"')]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("car1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("arr"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("   \nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("car2"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("arr"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("car1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("arr "),a("span",{staticClass:"token operator"},[t._v("===")]),t._v(" car2"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("arr"),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("h4",[t._v("1.1.5 Object.create()")]),a("blockquote",[t._v('用这个方法，"类"就是一个对象，而不是函数。然后，直接用Object.create()生成实例，不需要用到new。这种方法比"构造函数法"简单，但是不能实现私有属性和私有方法。'),a("br"),t._v("Object.create() 方法创建一个拥有指定原型和若干个指定属性的对象。")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" Phone "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  name"),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'xiaomi'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n  color"),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'black'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n  "),a("span",{staticClass:"token function-variable function"},[t._v("setting")]),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" p1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" Object"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("create")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("Phone"),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("h4",[t._v("1.1.6 createNew()")]),a("blockquote",[t._v("这种方法不需要用到this和prototype，其做法是用对象来模拟一个类，然后在类里面定义一个构造函数createNew()，然后在createNew()里面定义实例对象，把这个实例对象作为返回值。"),a("br"),t._v("实质上就是 工厂模式")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" Phone "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function-variable function"},[t._v("createNew")]),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" phone "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n    phone"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'xiaomi'")]),t._v("\n    phone"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("setting")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n      console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n    "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" phone\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("createNew")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" phone "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  phone"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'xiaomi'")]),t._v("\n  phone"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("setting")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" phone\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" p1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" Phone"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("createNew")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("h3",[t._v("1.2 ES6 中的类")]),a("p",[a("strong",[t._v("使用关键字 class")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Phone")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'xiaomi'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" name \n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("sayName")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v(" \n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" p1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Phone")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p1"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p1 "),a("span",{staticClass:"token keyword"},[t._v("instanceof")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Phone")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p1 "),a("span",{staticClass:"token keyword"},[t._v("instanceof")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Object")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("typeof")]),t._v(" Phone"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("       \nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("typeof")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Phone")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("sayName"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" Phone "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("PhoneT")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'xiaomi'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" name \n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("typeof")]),t._v(" Phone"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("typeof")]),t._v(" PhoneT"),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("h3",[t._v("1.3 差别")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("StackFunc")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" items "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("push")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("push")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("element")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    items"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("push")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("element"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("pop")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("pop")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" items"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("pop")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("StackClass")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("items "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("push")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("element")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("items"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("push")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("element"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("pop")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("items"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("pop")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" stackA "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("StackFunc")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" stackB "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("StackFunc")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("stackA"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("push "),a("span",{staticClass:"token operator"},[t._v("==")]),t._v(" stackB"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("push"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" stackC "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("StackClass")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" stackD "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("StackClass")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("stackC"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("push "),a("span",{staticClass:"token operator"},[t._v("==")]),t._v(" stackD"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("push"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")])])]),a("blockquote",[t._v("ES5：在ES5中我们声明了一个私有的items变量，它只能被Stack函数或类访问。然而，这个方法为每个类的实例都创建"),a("strong",[t._v("push和pop方法")]),t._v("的副本。因此，如果要创建多个Stack实例，它就不太适合了。"),a("br"),t._v("ES6："),a("strong",[t._v("push和pop方法")]),t._v("却是公共的。ES6的类是基于原型的。虽然基于原型的类比基于函数的类更节省内存，也更适合创建多个实例，却不能够声明私有属性（变量）或方法。")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("StackClass")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("items "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("push")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("push")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("element")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n      items"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("push")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("element"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n    "),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("pop")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("pop")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n      "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" items"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("pop")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n    "),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" stackC "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("StackClass")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" stackD "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("StackClass")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("stackC"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("push "),a("span",{staticClass:"token operator"},[t._v("==")]),t._v(" stackD"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("push"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")])])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("StackFunc")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("items "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("StackFunc")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("push")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("push")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("element")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("items"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("push")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("element"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("StackFunc")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("pop")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("pop")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("items"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("pop")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" stackA "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("StackFunc")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" stackB "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("StackFunc")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("stackA"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("push "),a("span",{staticClass:"token operator"},[t._v("==")]),t._v(" stackB"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("push"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")])])]),a("h3",[t._v("1.4 访问器属性")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token comment"},[t._v("// ES5")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Parent")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name  "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'xiaoming'")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Parent")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("get")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Parent")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("set")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" name \n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" p1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("name")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'getter'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("p1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\np1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'hello'")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'setter'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("p1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("// ES6")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Parent")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'xiaoming'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" name\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("get")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("set")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" name\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" v "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Parent")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'getter'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("v"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nv"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'hello'")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'setter'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("v"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("h2",[t._v("二、静态属性、静态方法、实例属性、实例方法")]),a("h3",[t._v("2.1 ES5 静态属性、静态方法、实例属性、实例方法")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" age")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" name "),a("span",{staticClass:"token comment"},[t._v("// 实例属性，可以通过对象.属性访问的属性叫实例属性")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("age "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" age\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("// 静态属性，挂载在构造函数")]),t._v("\nPerson"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("info "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'nice'")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("// 实例方法，挂载在原型链，生成的对象可直接点方法的方式调用")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("say")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'实例方法'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("// 静态方法")]),t._v("\nPerson"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("show")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'静态方法'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" p1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'steven'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("20")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// 实例属性获取方式")]),t._v("\np1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("say")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// 实例方法调用方式")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("Person"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("info "),a("span",{staticClass:"token operator"},[t._v("+")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'-----'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// 静态属性调用方式")]),t._v("\nPerson"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("show")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// 静态方法调用方式")])])]),a("h3",[t._v("2.2 ES6 静态属性、静态方法、实例属性、实例方法")]),a("p",[a("strong",[t._v("静态属性和静态方法用 static 修饰")]),a("br"),a("strong",[t._v("实例访问不到静态，静态也访问不到实例")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Animal")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token comment"},[t._v("// 类构造器 默认为空")]),t._v("\n  "),a("span",{staticClass:"token comment"},[t._v("// 构造器的作用：每当new一个类，会优先执行构造器中代码")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" age")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token comment"},[t._v("// 实例属性")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" name\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("age "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" age\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token comment"},[t._v("// 静态属性")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("static")]),t._v(" info "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'es6 静态属性'")]),t._v("\n  "),a("span",{staticClass:"token comment"},[t._v("// 挂载原型对象上的实例方法")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("jump")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'es6 实例方法'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("info"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("static")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("show")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'es6 静态方法'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("info"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("const")]),t._v(" a1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Animal")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'大黄'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("4")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("a1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// 实例属性调用")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("Animal"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("info"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// 静态方法")]),t._v("\na1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("jump")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// 实例方法调用")]),t._v("\na1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("show")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nAnimal"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("show")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// 静态方法调用")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Dog")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("extends")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Animal")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("age")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("super")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("age"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Animal")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("jump")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\nDog"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token class-name"},[t._v("__proto__")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("jump")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("ul",[a("li",[t._v("静态方法只能在当前类上调用，不能被该类的实例对象调用。父类的静态方法可以被子类继承。因此静态方法被调用的方式一共有三种：")])]),a("ol",[a("li",[t._v("父类直接调用")]),a("li",[t._v("子类继承父类后调用")]),a("li",[t._v("子类通过super对象调用")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Foo")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("static")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("classMethod")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'hello'")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n\nFoo"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("classMethod")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("  "),a("span",{staticClass:"token comment"},[t._v("//hello")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Bar")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("extends")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Foo")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Cla")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("extends")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Foo")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("super")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("classMethod")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("//hello")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n\nBar"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("classMethod")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("  "),a("span",{staticClass:"token comment"},[t._v("//hello")])])]),a("table",[a("thead",[a("tr",[a("th",[t._v("对比")]),a("th",{attrs:{align:"center"}},[t._v("静态方法")]),a("th",{attrs:{align:"center"}},[t._v("实例方法")]),a("th",{attrs:{align:"center"}},[t._v("构造方法")])])]),a("tbody",[a("tr",[a("td",[t._v("关键字")]),a("td",{attrs:{align:"center"}},[t._v("static")]),a("td",{attrs:{align:"center"}},[t._v("无")]),a("td",{attrs:{align:"center"}},[t._v("constructor")])]),a("tr",[a("td",[t._v("使用场景")]),a("td",{attrs:{align:"center"}},[t._v("声明一个仅供当前类或当前子类使用的方法")]),a("td",{attrs:{align:"center"}},[t._v("创建实例化对象可以直接调用的方法")]),a("td",{attrs:{align:"center"}},[t._v("在用 new 关键字通过此类实例化对象时执行的方法")])]),a("tr",[a("td",[t._v("使用对象")]),a("td",{attrs:{align:"center"}},[t._v("当前类或当前类的子类")]),a("td",{attrs:{align:"center"}},[t._v("通过该类或该类的子类实例化生成的对象")]),a("td",{attrs:{align:"center"}},[t._v("该类自身")])]),a("tr",[a("td",[t._v("调用方法")]),a("td",{attrs:{align:"center"}},[t._v("1.父类直接调用;2、子类继承父类后调用;3、子类通过super对象调用")]),a("td",{attrs:{align:"center"}},[t._v("1、通过该类及该类的子类实例生成的对象调用;2、该类通过prototype调用;3、该类的子类通过 "),a("code",[t._v("__proto__")]),t._v("隐式原型链调用")]),a("td",{attrs:{align:"center"}},[t._v("1、该类实例化对象时调用;2、该类的子类使用super")])])])]),a("h3",[t._v("2.3 ES6 中的 constructor")]),a("p",[a("strong",[t._v("类的作用在于构建对象，而constructor构造方法就是用于构建对象实例")])]),a("blockquote",[t._v("在使用new关键字生成对象时，constructor方法会被执行，最终return的结果就是生成的对象实例。"),a("br"),t._v("当一个类没有constructor方法时会自动生成一个空的constructor方法，返回结果为空。"),a("br"),t._v("用new关键字实例化对象时传入的参数会做为constructor构造函数的参数传入。")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Point")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Point")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'testObj'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")])])]),a("h3",[t._v("2.4 ES6 "),a("a",{attrs:{href:"https://www.jianshu.com/p/5386936acfec"}},[t._v("单例模式")])]),a("p",[t._v("它是指在一个类只能有一个实例，即使多次实例化该类，也只返回第一次实例化后的实例对象。单例模式不仅能减少不必要的内存开销, 并且在减少全局的函数和变量冲突也具有重要的意义。")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Db")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("static")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("getInstance")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("   "),a("span",{staticClass:"token comment"},[t._v("/*单例*/")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("if")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token operator"},[t._v("!")]),t._v("Db"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("instance"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n      Db"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("instance"),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Db")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n    "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" Db"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("instance"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'实例化会触发构造函数'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("connect")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("connect")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'连接数据库'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("find")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'查询数据库'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" myDb"),a("span",{staticClass:"token operator"},[t._v("=")]),t._v("Db"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("getInstance")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" myDb2"),a("span",{staticClass:"token operator"},[t._v("=")]),t._v("Db"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("getInstance")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" myDb3"),a("span",{staticClass:"token operator"},[t._v("=")]),t._v("Db"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("getInstance")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" myDb4"),a("span",{staticClass:"token operator"},[t._v("=")]),t._v("Db"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("getInstance")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\nmyDb3"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("find")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\nmyDb4"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("find")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")])])]),a("h3",[t._v("2.5 探讨：ES5 和 ES6 中的私有属性和私有方法")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token comment"},[t._v("// ES5 中私有属性、私有方法")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" p "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'zhangsan'")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" "),a("span",{staticClass:"token function-variable function"},[t._v("sayName")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 在 ES6 中实现这个就会比较麻烦，约定俗称的使用下划线来表示私有属性")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 通过 constructor 作用域定义局部变量，实现闭包")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" age"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" _age")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" name \n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("age "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" age\n    "),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" _age "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" _age\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("sayAge "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token operator"},[t._v("-")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n      console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("_age"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n    "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" p "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'zhangsan'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("20")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("18")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("_age"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("sayName")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 虽然实现了私有属性外部不能访问，但是还是又问题：该属性不能在不同的方法里面共享。")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("// 以下是 js 实现私有属性比较可行的方法，但实际中应用很少，稍微提一下")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 1、Symbol & Getter 这种方式，利用Symbol变量可以作为对象key的特点，")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 但是这种也有问题：借助getOwnPropertySymbols方法可以取出对象的Symbol键值")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("// 2、WeakMap & Getter 这种方式")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("// 3、站在巨人的肩膀： TypeScript。 ts 的出现完全整改并简化了 ES6 中的私有属性和方法")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// public、private、protected")])])]),a("h2",[t._v("三、继承")]),a("h3",[t._v("3.1 原理")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" __extends "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("&&")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("__extends"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("||")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("d"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" b")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("for")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" p "),a("span",{staticClass:"token keyword"},[t._v("in")]),t._v(" b"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("if")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("b"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("hasOwnProperty")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" d"),a("span",{staticClass:"token punctuation"},[t._v("[")]),t._v("p"),a("span",{staticClass:"token punctuation"},[t._v("]")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" b"),a("span",{staticClass:"token punctuation"},[t._v("[")]),t._v("p"),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("__")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("constructor "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" d"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  d"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" b "),a("span",{staticClass:"token operator"},[t._v("===")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("null")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("?")]),t._v(" Object"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("create")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("b"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token class-name"},[t._v("__")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" b"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("__")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" Animal "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Animal")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token class-name"},[t._v("Animal")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("Eat")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    window"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("alert")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v('"Animal eat."')]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" Animal"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" Fish "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("_super")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("__extends")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("Fish"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" _super"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Fish")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token function"},[t._v("_super")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("apply")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" arguments"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token class-name"},[t._v("Fish")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("Eat")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    window"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("alert")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v('"Fish eat."')]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" Fish"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("Animal"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("   "),a("span",{staticClass:"token comment"},[t._v("// 继承谁，就把谁传入")])])]),a("h3",[t._v("3.2 ES5 继承")]),a("blockquote",[t._v("继承的方式有很多，举出了几个常见方式:"),a("br"),a("strong",[t._v("1. 原型链")]),a("br"),a("strong",[t._v("2. 构造函数")]),a("br"),a("strong",[t._v("3. 组合式继承")]),a("br"),a("strong",[t._v("4. 原型式继承")]),a("br"),a("strong",[t._v("5. 寄生式继承")]),a("br"),a("strong",[t._v("6. 寄生组合式继承")])]),a("h4",[t._v("3.2.1 原型链继承")]),a("p",[a("strong",[t._v("原型链作为实现继承的主要方法，其基本思想就是利用原型让一个引用类型继承另一个引用类型的属性和方法")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token comment"},[t._v("// 原型链实现继承既可以构造里面的属性方法，也可以继承原型链上属性方法")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Person")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" name\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("run")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'run'")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("+")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("work")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'work'")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("+")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Child")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" name\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Child")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'parent'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("  "),a("span",{staticClass:"token comment"},[t._v("// 原型链实现继承")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Child")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("constructor "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" Child"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// 由于Child.prototype继承Parent,导致constructor丢失")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" c "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Child")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'child'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nc"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("run")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("  "),a("span",{staticClass:"token comment"},[t._v("// run undefined")]),t._v("\nc"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("work")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// work undefined")])])]),a("p",[a("strong",[t._v("这样会出现一个问题：实例化子类的时候没办法给父类传参")])]),a("h4",[t._v("3.2.2 对象冒充继承")]),a("p",[a("strong",[t._v("利用 call 和 apply 实现继承")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Person")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" name\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("run")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'run'")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("+")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("work")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'work'")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("+")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// web 类继承 person 类")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Child")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token comment"},[t._v("//相当于 Parent 这个函数在 Child 函数中执行了一遍，并且将所有与 this 绑定的变量都切换到了 Child 上")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("call")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" c "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Child")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'child'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nc"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("run")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// 正确、对象冒充可以继承构造函数里面的属性和方法")]),t._v("\nc"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("work")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// 错误、对象冒充不能继承原型链上面的属性和方法")])])]),a("p",[a("strong",[t._v("对象冒充不能继承原型链上面的属性和方法")])]),a("h4",[t._v("3.2.3 组合式继承")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Person")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" name\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("run")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("+")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'在run'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("work")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("+")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'在work'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Child")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("call")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("  "),a("span",{staticClass:"token comment"},[t._v("// 第二次调用 把 Person 所有与 this 绑定的变量都切换到了 Child 上")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Child")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// 第一次调用 拿到 Person 原型链上的属性和方法")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Child")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("constructor "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" Child"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" c "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Child")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'zhangsan'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nc"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("run")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nc"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("work")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("blockquote",[t._v("组合式继承是比较常用的一种继承方法，其背后的思路是使用原型链实现对原型属性和方法的继承，而通过借用构造函数来实现对实例属性的继承。实现了函数复用，又保证每个实例都有它自己的属性。"),a("br"),a("strong",[t._v("但组合继承使用过程中会被调用两次父类：一次是创建子类型的时候，另一次是在子类型构造函数的内部。")]),a("br"),t._v("第一次调用构造函数显然是没有必要的，因为第一次调用构造函数时候不需要函数内部的那些实例属性，这么写只是想获得其原型上的方法罢了，所以这时候你可能会这样写:Child.prototype = Parent.prototype"),a("br"),t._v("但是这么写显然是又问题的："),a("br"),a("strong",[t._v("首先，你这样写相当于是子类和父类都指向同一个对象，这时候如果你添加了新的方法给 Child 但实际上 Parent 并不需要，相当于强行给 Parent 添加了一个未知的方法。")]),a("br"),t._v("这样又体现不出继承的多态性，比如此时子类想要重写父类的 run 的方法，那么父类的方法也就会随之修改，这显然违背了多态性。")]),a("h4",[t._v("3.2.4 寄生组合式继承")]),a("p",[a("strong",[t._v("针对上面的问题：当我们第一次调用构造函数的时候，其实是不管构造函数里面的内容，这是我们可以new一个空函数，将其 prototype 指向 Parent.prototype")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Person")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" name\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("run")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("+")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'在run --父类方法'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Child")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("call")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" \n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("inheritPrototype")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("Parent"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" Child")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token class-name"},[t._v("Child")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" Object"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("create")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token class-name"},[t._v("Parent")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" \n  "),a("span",{staticClass:"token class-name"},[t._v("Child")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("constructor "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" Child"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token function"},[t._v("inheritPrototype")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("Person"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" Child"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Child")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("run")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("+")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'在run --子类方法'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Child")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("constructor "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" Child"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" p "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'person'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\np"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("run")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" c "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Child")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'child'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nc"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("run")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("h3",[t._v("3.3 ES6 继承")]),a("blockquote",[a("strong",[t._v("1. 使用关键字 extends 和 super 来实现。")]),a("br"),a("strong",[t._v("2. ES6 的继承是 class 的继承。")]),a("br"),a("strong",[t._v("3. 子类必须在constructor方法中调用super方法，否则新建实例时会报错。这是因为子类没有自己的this对象，而是继承父类的this对象，然后对其进行加工，如果不调用super方法，子类就得不到this对象。因此，只有调用super之后，才可以使用this关键字。")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" name\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n     "),a("span",{staticClass:"token function"},[t._v("run")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("+")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'在run --父类'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Child")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("extends")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("super")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" c "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Child")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'child'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nc"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("run")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("Child"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("__proto__ "),a("span",{staticClass:"token operator"},[t._v("===")]),t._v(" Person"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token class-name"},[t._v("Child")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("__proto__ "),a("span",{staticClass:"token operator"},[t._v("===")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("p",[a("strong",[t._v("探讨：当父类和子类有同样方法")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" name\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n     "),a("span",{staticClass:"token function"},[t._v("run")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("+")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'在run --父类'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Child")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("extends")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("super")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("run")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("+")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'在run --子类'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" c "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Child")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'child'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nc"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("run")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("p",[a("strong",[t._v("总结：当父类的方法和子类的方法一致时，首先在子类里面找，然后去父类里面找")])]),a("blockquote",[a("strong",[t._v("构造函数、原型、实例之前的关系：")]),a("br"),a("strong",[t._v("1. 每个构造函数都有一个原型对象(prototype),")]),a("br"),a("strong",[t._v("2. 原型对象都包含一个指向构造函数的指针(constructor),")]),a("br"),a("strong",[t._v("3. 实例都包含一个指向原型对象的内部指针(__propto__)。")])]),a("h3",[t._v("3.4 super 和 new.target")]),a("p",[a("strong",[t._v("super只能在派生类中使用")])]),a("blockquote",[t._v("super 有两种用法："),a("br"),a("strong",[t._v("1.作为函数调用")]),a("br"),a("strong",[t._v("2.作为对象使用")])]),a("pre",[a("code",{staticClass:"js"},[t._v("  "),a("span",{staticClass:"token comment"},[t._v("// 作为函数调用时，代表父类的构造函数")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("A")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n      console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("new")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("target"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n    "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("B")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("extends")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("A")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n      "),a("span",{staticClass:"token keyword"},[t._v("super")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n    "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("A")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// A")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("B")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// B")]),t._v("\n  \n  "),a("span",{staticClass:"token comment"},[t._v("//super虽然代表了父类A的构造函数，但是返回的是子类B的实例，即super内部的this指的是B，因此super()在这里相当于")]),t._v("\n  "),a("span",{staticClass:"token class-name"},[t._v("A")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("call")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("pre",[a("code",{staticClass:"js"},[t._v("  "),a("span",{staticClass:"token comment"},[t._v("// super作为对象时，在普通方法中，指向父类的原型对象；在静态方法中，指向父类。")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Parent")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("static")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("parentMethod")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("msg")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n      console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'static-parentMethod'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" msg"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n    "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n    "),a("span",{staticClass:"token function"},[t._v("parentMethod")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("msg")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n      console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'parentMethod'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" msg"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n    "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Child")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("extends")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Parent")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("static")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("childMethod")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("msg")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n      "),a("span",{staticClass:"token keyword"},[t._v("super")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("parentMethod")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("msg"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n    "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n    "),a("span",{staticClass:"token function"},[t._v("childMethod")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("msg")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n      "),a("span",{staticClass:"token keyword"},[t._v("super")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("parentMethod")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("msg"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n    "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  Child"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("childMethod")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'child的静态方法'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("  "),a("span",{staticClass:"token comment"},[t._v("// static-parentMethod child的静态方法")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" c "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Child")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  c"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("childMethod")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'child的实例方法'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("  "),a("span",{staticClass:"token comment"},[t._v("// parentMethod child的实例方法")])])]),a("pre",[a("code",{staticClass:"js"},[t._v("  "),a("span",{staticClass:"token comment"},[t._v("// 看这个例子")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("A")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n      "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("x "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("1")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n    "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("B")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("extends")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("A")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n      "),a("span",{staticClass:"token keyword"},[t._v("super")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n      "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("x "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("2")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n      "),a("span",{staticClass:"token keyword"},[t._v("super")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("x "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("3")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n      console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("super")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("x"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("  "),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token operator"},[t._v("-")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("A")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("x\n      console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("x"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("   "),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token operator"},[t._v("-")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("super")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("x "),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token operator"},[t._v("-")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("x\n    "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" b "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("B")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token comment"},[t._v("// 如果通过super对某个属性赋值，这时super就是this，赋值的属性会变成子类实例的属性。")])])]),a("h3",[t._v("3.5 探讨：定义ES6类方法的差异")]),a("blockquote",[t._v("在 ES6 中，有两种普遍的方式定义 class methods，但是他们的行为完全不同"),a("br"),t._v("第一种：将 "),a("strong",[t._v("class methods")]),t._v(" 定义为标准的类函数。这种方式，方法定义在类的"),a("strong",[t._v("原型")]),t._v("上。")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("A")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("foo")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'foo from A'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")])])]),a("blockquote",[t._v("第二种：方法其实是定义在构造函数内的，即直接定义在实例上的，而不是构造函数的原型上。")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("A")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token operator"},[t._v("-")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'foo from A'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")])])]),a("ul",[a("li",[t._v("区别很明显：第一个它将函数调用的"),a("code",[t._v("this")]),t._v("变量绑定到了函数定义范围中的"),a("code",[t._v("this")]),t._v("变量。使用第二种方式定义，this被绑定到了当前的"),a("code",[t._v("类的实例")]),t._v("对象上。")]),a("li",[t._v("我们可以不使用箭头函数，使用标准的"),a("strong",[t._v("class method")]),t._v("也能实现相同的功能，只是需要在构造函数内进行额外的绑定。")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("A")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("foo")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("bind")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("foo")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'foo from A'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")])])]),a("ul",[a("li",[t._v("现在问题来了：下列两种定义的类是否具有相同的行为？")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("A")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("foo")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("bind")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("foo")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'foo from A'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("A")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token operator"},[t._v("-")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'foo from A'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")])])]),a("ul",[a("li",[t._v("答案：不是完全相同，当存在继承的时候，两者的行为完全不同。看例子")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("A")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("foo")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("bind")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("foo")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'foo from A'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("B")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("extends")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("A")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("foo")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("super")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("foo")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'foo from B'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("B")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("foo")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// foo from A")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// foo from B")])])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token comment"},[t._v("// 接下来我们使用箭头函数")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("A")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token operator"},[t._v("-")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'foo from A'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("B")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("extends")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("A")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token operator"},[t._v("-")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("super")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("foo")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'foo from B'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("B")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("foo")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("p",[a("strong",[t._v("总结：当你调用了"),a("code",[t._v("super.someFunction")]),t._v("时，都会在"),a("code",[t._v("__proto__")]),t._v("中查找"),a("code",[t._v("someFunction")]),t._v("关键词。是因为"),a("code",[t._v("foo")]),t._v("不在"),a("code",[t._v("new B()")]),t._v("实例对象的"),a("code",[t._v("__proto__")]),t._v("上。这告诉我们，不能在子类中使用箭头函数")])]),a("ul",[a("li",[t._v("class A 中的foo函数，被绑定到了当前的"),a("code",[t._v("类的实例")]),t._v("对象上。可以在 A 的实例上访问到 foo 函数。class A 等价于下面的。")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("A")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("foo "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token operator"},[t._v("-")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n      console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'foo from A'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n    "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")])])]),a("ul",[a("li",[t._v("那么问题又来了，继承的类的实例怎么拿到父类实例中的方法呢？")])]),a("ol",[a("li",[t._v("Object.getPrototypeOf()")]),a("li",[t._v("Object.getOwnPropertyNames()")])]),a("h2",[t._v("四、原型和原型链")]),a("h3",[t._v("4.1 构造函数和实例")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Person")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("name")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" name \n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" person "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'joker'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("person"),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("h3",[t._v("4.2 prototype")]),a("ol",[a("li",[t._v("每一个函数都有 prototype 这个属性")]),a("li",[t._v("每一个 js 对象 （null 除外）在创建的时候就会关联一个对象，就是原型对象")]),a("li",[t._v("而且实例都是从原型链上进行创建")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'joker'")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" p1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" p2 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p2"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("===")]),t._v(" p2"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("ul",[a("li",[t._v("探讨：实现链式调用")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token comment"},[t._v("// ES5")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Number")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("add")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("number")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("if")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("typeof")]),t._v(" number "),a("span",{staticClass:"token operator"},[t._v("!==")]),t._v(" number"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("throw")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Error")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'请输入数字'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("valueOf")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("+")]),t._v(" number\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Number")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("minus")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("number")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("if")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("typeof")]),t._v(" number "),a("span",{staticClass:"token operator"},[t._v("!==")]),t._v(" number"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("throw")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Error")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'请输入数字'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("valueOf")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("-")]),t._v(" number\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token number"},[t._v("5")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("add")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token number"},[t._v("2")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("minus")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token number"},[t._v("3")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n\n"),a("span",{staticClass:"token comment"},[t._v("// ES6 ")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("class")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Sum")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("constructor")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("number")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("number "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" number\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("add")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("number")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("number "),a("span",{staticClass:"token operator"},[t._v("+=")]),t._v(" number\n    "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("minus")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("number")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("number "),a("span",{staticClass:"token operator"},[t._v("-=")]),t._v(" number\n    "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" s "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Sum")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token number"},[t._v("5")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("s"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("add")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token number"},[t._v("2")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("minus")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token number"},[t._v("3")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("h3",[t._v("4.3 proto")]),a("p",[a("strong",[t._v("每一个 js 对象（null 除外）都具有一个属性 proto，这个属性会指向该对象的原型")])]),a("p",[a("strong",[t._v("null 是一个对象，是终点。所以 null 没有原型__proto__了，也不会有任何方法了")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" p1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p1"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("__proto__  "),a("span",{staticClass:"token operator"},[t._v("===")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("h3",[t._v("4.4 constructor")]),a("p",[a("strong",[t._v("每一个原型都有一个 contructor 属性指向关联的构造函数，即原型指向构造函数")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("Person "),a("span",{staticClass:"token operator"},[t._v("===")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("constructor"),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" p "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("__proto__ "),a("span",{staticClass:"token operator"},[t._v("===")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("constructor "),a("span",{staticClass:"token operator"},[t._v("===")]),t._v(" Person"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("Object"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("getPrototypeOf")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("===")]),t._v(" p"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("__proto__"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("Object"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("getPrototypeOf")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("===")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p "),a("span",{staticClass:"token keyword"},[t._v("instanceof")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("h3",[t._v("4.5 实例与原型")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'zhangsan'")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("let")]),t._v(" p "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\np"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'lisi'")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("delete")]),t._v(" p"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("ul",[a("li",[t._v("这个例子中，我们给实例对象 p 添加了 name 属性，所以打印 lisi。")]),a("li",[t._v("但当我们删除了 p 的 name 属性后，从 p 中找不到 name 的属性了，就会去 p 的原型，也就是 p.__proto__ 中去找，也就是 Person.prototype 中去找。")])]),a("h3",[t._v("4.6 原型与原型（原型链）")]),a("blockquote",[t._v("其实每个Function都是Object基类的一个实例,所以每个Function上都有一个__proto__指向了Object.prototype.当查找一个实例的属性时，会先从这个实例的自定义属性上找,如果没有的话通过__proto__去实例所属类的原型上去找,如果还没有的话再通过原型（原型也是对象,只要是对象就有__proto__属性）的__proto__到Object的原型上去找,一级一级的找,如果没有就null(Object的__proto__返回null)。"),a("br"),t._v("js每一次获取对象中的属性都是一次查询过程，如果在自有属性中找不到就会去原型对象中查找，如果原型对象中还查不到，就回去原型对象的原型中查找，也就是按照原型链查找，直到查找到原型链的顶端，也就是Object的原型。"),a("br"),a("strong",[t._v("只有函数才会有 prototype 属性，只有对象才会有"),a("code",[t._v("__proto__")]),t._v("属性")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token class-name"},[t._v("Person")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("__proto__ "),a("span",{staticClass:"token operator"},[t._v("===")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Object")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token class-name"},[t._v("Object")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("__proto__ "),a("span",{staticClass:"token operator"},[t._v("===")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("null")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("h2",[t._v("五、call、apply、bind")]),a("p",[a("strong",[t._v("call、apply、bind的作用是改变函数运行时"),a("a",{attrs:{href:"https://www.jianshu.com/p/bc541afad6ee"}},[t._v("this的指向")])])]),a("h3",[t._v("5.1 call")]),a("p",[a("strong",[t._v("第一个参数：要绑定给 this 的值，后面传入的是一个参数列表，当第一个参数为 null 或 undefined的时候，默认会指向 window")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token comment"},[t._v("// B.call(A, args1,args2)。即A对象调用B对象的方法")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" arr "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token number"},[t._v("1")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("2")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("3")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("4")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" max "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" Math"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("max")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("call")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[a("span",{staticClass:"token keyword"},[t._v("null")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" arr"),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token number"},[t._v("0")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" arr"),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token number"},[t._v("1")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" arr"),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token number"},[t._v("2")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" arr"),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token number"},[t._v("3")]),a("span",{staticClass:"token punctuation"},[t._v("]")])]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token operator"},[t._v("=>")]),t._v(" window"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("Math"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("max")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("arr"),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token number"},[t._v("0")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" arr"),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token number"},[t._v("1")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" arr"),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token number"},[t._v("2")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" arr"),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token number"},[t._v("3")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" obj "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  message"),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'My name is'")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("getName")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("firstName"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" secondName")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token template-string"},[a("span",{staticClass:"token template-punctuation string"},[t._v("`")]),a("span",{staticClass:"token interpolation"},[a("span",{staticClass:"token interpolation-punctuation punctuation"},[t._v("${")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("message"),a("span",{staticClass:"token interpolation-punctuation punctuation"},[t._v("}")])]),a("span",{staticClass:"token string"},[t._v(" ")]),a("span",{staticClass:"token interpolation"},[a("span",{staticClass:"token interpolation-punctuation punctuation"},[t._v("${")]),t._v("firstName"),a("span",{staticClass:"token interpolation-punctuation punctuation"},[t._v("}")])]),a("span",{staticClass:"token string"},[t._v("--")]),a("span",{staticClass:"token interpolation"},[a("span",{staticClass:"token interpolation-punctuation punctuation"},[t._v("${")]),t._v("secondName"),a("span",{staticClass:"token interpolation-punctuation punctuation"},[t._v("}")])]),a("span",{staticClass:"token template-punctuation string"},[t._v("`")])]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token function"},[t._v("getName")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("call")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("obj"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'徐'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'广昊'")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("h3",[t._v("5.2 apply")]),a("p",[a("strong",[t._v("第一个参数：要绑定给 this 的值，第二个参数是一个参数数组，当第一个参数为 null 或 undefined的时候，默认会指向 window")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token comment"},[t._v("//B.apply(A, arguments)。即A对象应用B对象的方法。")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" arr "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token number"},[t._v("1")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("2")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("3")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("4")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" max "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" Math"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("max")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("apply")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("null")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" arr"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" obj "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  message"),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'My name is'")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("getName")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("firstName"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" secondName")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token template-string"},[a("span",{staticClass:"token template-punctuation string"},[t._v("`")]),a("span",{staticClass:"token interpolation"},[a("span",{staticClass:"token interpolation-punctuation punctuation"},[t._v("${")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("message"),a("span",{staticClass:"token interpolation-punctuation punctuation"},[t._v("}")])]),a("span",{staticClass:"token string"},[t._v(" ")]),a("span",{staticClass:"token interpolation"},[a("span",{staticClass:"token interpolation-punctuation punctuation"},[t._v("${")]),t._v("firstName"),a("span",{staticClass:"token interpolation-punctuation punctuation"},[t._v("}")])]),a("span",{staticClass:"token string"},[t._v("--")]),a("span",{staticClass:"token interpolation"},[a("span",{staticClass:"token interpolation-punctuation punctuation"},[t._v("${")]),t._v("secondName"),a("span",{staticClass:"token interpolation-punctuation punctuation"},[t._v("}")])]),a("span",{staticClass:"token template-punctuation string"},[t._v("`")])]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token function"},[t._v("getName")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("apply")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("obj"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token string"},[t._v("'徐'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'广昊'")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("h3",[t._v("5.3 call 和 apply 借用别的对象的方法")]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token comment"},[t._v("// 以 call  为例，再看对象冒充继承。")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" "),a("span",{staticClass:"token function-variable function"},[t._v("Person1")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'Person1'")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" "),a("span",{staticClass:"token function-variable function"},[t._v("Person2")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("getName")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("Person1")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("call")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token comment"},[t._v("// 作用：Person1 对象代替了 this 对象")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" p "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("new")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Person2")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\np"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("getName")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("h3",[t._v("5.4 bind")]),a("p",[a("strong",[t._v("和 call 类似，第一个参数是this的指向，第二个参数开始是接收的参数列表")])]),a("blockquote",[a("p",[t._v("区别：")]),a("ol",[a("li",[t._v("在于 bind 的返回值是函数以及 bind 接受的参数列表的使用。")]),a("li",[t._v("bind 返回值是函数")]),a("li",[t._v("bind 方法不会立即执行，而是返回了一个改变了上下文的 this 后的函数。")])])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" obj "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  name"),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'joker'")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("printName")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("name"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" p "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("printName")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("bind")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("obj"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\nconsole"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("p"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token function"},[t._v("p")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token comment"},[t._v("// call 是把第二个及以后的参数作为 fn 方法的实参传进去，")]),t._v("\n"),a("span",{staticClass:"token comment"},[t._v("// 而 fn1 方法的实参实则是在 bind 中参数的基础上再往后排。")]),t._v("\n\n"),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("fn")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("a"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" b"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" c")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("log")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("a"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" b"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" c"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" fn1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("fn")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("bind")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("null")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'joker'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token function"},[t._v("fn")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'A'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'B'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'C'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token function"},[t._v("fn1")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'A'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'B'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'C'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token function"},[t._v("fn1")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token string"},[t._v("'B'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'C'")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n"),a("span",{staticClass:"token function"},[t._v("fn")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("call")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("null")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'joker'")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("p",[a("strong",[t._v("手写 bind 方法 （当然可以手写 call 和 apply）")])]),a("pre",[a("code",{staticClass:"js"},[a("span",{staticClass:"token keyword"},[t._v("if")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token operator"},[t._v("!")]),a("span",{staticClass:"token class-name"},[t._v("Function")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("bind"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token class-name"},[t._v("Function")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function-variable function"},[t._v("bind")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" self "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("                                               "),a("span",{staticClass:"token comment"},[t._v("// 保存原函数")]),t._v("\n        content "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("shift")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("call")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("arguments"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("  "),a("span",{staticClass:"token comment"},[t._v("// 保存需要绑定的 this 上下文")]),t._v("\n        args "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("slice")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("call")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("arguments"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("            "),a("span",{staticClass:"token comment"},[t._v("// 剩余参数转为数组")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("function")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n      "),a("span",{staticClass:"token function"},[t._v("self")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("apply")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("content"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("concat")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("call")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("args"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("slice")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("call")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("arguments"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n    "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")])])]),a("h3",[t._v("5.5 应用场景（了解）")]),a("blockquote",[t._v("求数组中的最大和最小值")]),a("pre",[a("code",{staticClass:"js"},[t._v("  "),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" arr "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token number"},[t._v("1")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("2")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("3")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("4")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" max "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" Math"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("max")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("apply")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("null")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" arr"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" min "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" Math"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("min")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("apply")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token keyword"},[t._v("null")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" arr"),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("blockquote",[t._v("将类数组转成数组")]),a("pre",[a("code",{staticClass:"js"},[t._v("  "),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" trueArr "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Array")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("slice")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("call")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("arrayLike"),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("blockquote",[t._v("数组追加")]),a("pre",[a("code",{staticClass:"js"},[t._v("  "),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" arr1 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token number"},[t._v("1")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("2")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("3")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" arr2 "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token number"},[t._v("4")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("5")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" "),a("span",{staticClass:"token number"},[t._v("6")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" totalArr "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("[")]),a("span",{staticClass:"token punctuation"},[t._v("]")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("push")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("apply")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("arr1"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" arr2"),a("span",{staticClass:"token punctuation"},[t._v(")")])])]),a("blockquote",[t._v("判断类型")]),a("pre",[a("code",{staticClass:"js"},[t._v("  "),a("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),a("span",{staticClass:"token function"},[t._v("isArray")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" "),a("span",{staticClass:"token class-name"},[t._v("Object")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("prototype"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("toString")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("call")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("obj"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("===")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'[object Array]'")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")])])]),a("blockquote",[t._v("利用 call 和 apply 做继承")]),a("h3",[t._v("5.6 总结")]),a("p",[a("strong",[t._v("bind 返回对应函数，不是立即调用，apply 和 call 是立即调用")]),a("br"),a("strong",[t._v("在 ES6 的箭头函数下， call 和 apply 将失效")])]),a("p",[t._v("对于箭头函数：")]),a("ol",[a("li",[t._v("箭头函数体内的 this 对象，就是定义时所在的对象，而不是使用时所在的对象，所以不需要 var self = this 这种丑陋的写法")]),a("li",[t._v("箭头函数不可以当做构造函数，不可以使用 new 命令")]),a("li",[t._v("箭头函数不可以使用 arguments 对象，该对象在函数体内不存在，如果使用，可以用 rest 剩余参数代替")])])])}],c=a("2877"),e={},i=Object(c["a"])(e,n,o,!1,null,null,null);s["default"]=i.exports},"7b3c":function(t,s,a){"use strict";a.r(s);var n=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"markdown"},[a("pre",[a("code",[a("span",{staticClass:"token operator"},[t._v("<")]),t._v("template"),a("span",{staticClass:"token operator"},[t._v(">")]),t._v("\n  "),a("span",{staticClass:"token operator"},[t._v("<")]),t._v("div"),a("span",{staticClass:"token operator"},[t._v(">")]),t._v("\n    "),a("span",{staticClass:"token operator"},[t._v("<")]),t._v("ea"),a("span",{staticClass:"token operator"},[t._v("-")]),t._v("image\n        "),a("span",{staticClass:"token operator"},[t._v(":")]),t._v("src"),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token string"},[t._v('"src"')]),t._v("\n        size"),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token string"},[t._v('"large"')]),t._v("\n        hover\n        icon"),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token string"},[t._v('"el-icon-plus"')]),t._v("\n        @click"),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token string"},[t._v('"dialog()"')]),t._v("\n    "),a("span",{staticClass:"token operator"},[t._v("/")]),a("span",{staticClass:"token operator"},[t._v(">")]),t._v("\n    "),a("span",{staticClass:"token operator"},[t._v("<")]),t._v("div"),a("span",{staticClass:"token operator"},[t._v(">")]),t._v("\n      "),a("span",{staticClass:"token operator"},[t._v("<")]),t._v("el"),a("span",{staticClass:"token operator"},[t._v("-")]),t._v("button @click"),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token string"},[t._v('"dialogVisible = true"')]),a("span",{staticClass:"token operator"},[t._v(">")]),t._v("通过组件调用选择器"),a("span",{staticClass:"token operator"},[t._v("<")]),a("span",{staticClass:"token operator"},[t._v("/")]),t._v("el"),a("span",{staticClass:"token operator"},[t._v("-")]),t._v("button"),a("span",{staticClass:"token operator"},[t._v(">")]),t._v("\n      "),a("span",{staticClass:"token operator"},[t._v("<")]),t._v("el"),a("span",{staticClass:"token operator"},[t._v("-")]),t._v("button @click"),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token string"},[t._v('"dialog()"')]),a("span",{staticClass:"token operator"},[t._v(">")]),t._v("通过方法调用选择器"),a("span",{staticClass:"token operator"},[t._v("<")]),a("span",{staticClass:"token operator"},[t._v("/")]),t._v("el"),a("span",{staticClass:"token operator"},[t._v("-")]),t._v("button"),a("span",{staticClass:"token operator"},[t._v(">")]),t._v("\n    "),a("span",{staticClass:"token operator"},[t._v("<")]),a("span",{staticClass:"token operator"},[t._v("/")]),t._v("div"),a("span",{staticClass:"token operator"},[t._v(">")]),t._v("\n    "),a("span",{staticClass:"token operator"},[t._v("<")]),t._v("ea"),a("span",{staticClass:"token operator"},[t._v("-")]),t._v("image"),a("span",{staticClass:"token operator"},[t._v("-")]),t._v("dialog\n        action"),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token string"},[t._v('"https://jsonplaceholder.typicode.com/posts/"')]),t._v("\n        "),a("span",{staticClass:"token operator"},[t._v(":")]),t._v("visible"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("sync"),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token string"},[t._v('"dialogVisible"')]),t._v("\n        "),a("span",{staticClass:"token operator"},[t._v(":")]),t._v("on"),a("span",{staticClass:"token operator"},[t._v("-")]),t._v("success"),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token string"},[t._v('"onSuccess"')]),t._v("\n        @confirm"),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token string"},[t._v('"onConfirm"')]),t._v("\n    "),a("span",{staticClass:"token operator"},[t._v(">")]),a("span",{staticClass:"token operator"},[t._v("<")]),a("span",{staticClass:"token operator"},[t._v("/")]),t._v("ea"),a("span",{staticClass:"token operator"},[t._v("-")]),t._v("image"),a("span",{staticClass:"token operator"},[t._v("-")]),t._v("dialog"),a("span",{staticClass:"token operator"},[t._v(">")]),t._v("\n  "),a("span",{staticClass:"token operator"},[t._v("<")]),a("span",{staticClass:"token operator"},[t._v("/")]),t._v("div"),a("span",{staticClass:"token operator"},[t._v(">")]),t._v("\n"),a("span",{staticClass:"token operator"},[t._v("<")]),a("span",{staticClass:"token operator"},[t._v("/")]),t._v("template"),a("span",{staticClass:"token operator"},[t._v(">")]),t._v("\n"),a("span",{staticClass:"token operator"},[t._v("<")]),t._v("script"),a("span",{staticClass:"token operator"},[t._v(">")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("export")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("default")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token function"},[t._v("data")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n      "),a("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n        dialogVisible"),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token boolean"},[t._v("false")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n        src"),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("''")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n      "),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n    "),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n    methods"),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n      "),a("span",{staticClass:"token function"},[t._v("onSuccess")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("file"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" done")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n        "),a("span",{staticClass:"token function"},[t._v("done")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token constant"},[t._v("URL")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("createObjectURL")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("file"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("raw"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n      "),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n      "),a("span",{staticClass:"token function"},[t._v("onConfirm")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("src")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n        "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("src "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" src"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n        "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("dialogVisible "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),a("span",{staticClass:"token boolean"},[t._v("false")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n      "),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n      "),a("span",{staticClass:"token function"},[t._v("dialog")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n        "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("$imageDialog")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n          src"),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("src"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n          action"),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'https://jsonplaceholder.typicode.com/posts/'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n          required"),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token boolean"},[t._v("true")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n          onSuccess"),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("onSuccess"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n        "),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("then")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("src")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=>")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n          "),a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("src "),a("span",{staticClass:"token operator"},[t._v("=")]),t._v(" src"),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n        "),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n      "),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n    "),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token operator"},[t._v("<")]),a("span",{staticClass:"token operator"},[t._v("/")]),t._v("script"),a("span",{staticClass:"token operator"},[t._v(">")])])])])}],c=a("2877"),e={},i=Object(c["a"])(e,n,o,!1,null,null,null);s["default"]=i.exports},8125:function(t,s,a){"use strict";a.r(s);var n=a("288e"),o=a("4de5");for(var c in o)"default"!==c&&function(t){a.d(s,t,(function(){return o[t]}))}(c);var e=a("2877"),i=Object(e["a"])(o["default"],n["a"],n["b"],!1,null,"200a4d92",null);s["default"]=i.exports},"897e":function(t,s,a){"use strict";var n=a("c208"),o=a.n(n);o.a},"967e":function(t,s,a){var n,o,c;(function(a,e){o=[s],n=e,c="function"===typeof n?n.apply(s,o):n,void 0===c||(t.exports=c)})("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,(function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=[{name:"Node 基础和实践",router:"/node",description:"氨基酸复活卡交首付款经安徽省快解封哈设计费哈是否会氨基酸复活卡交首付款经安徽省快解封哈设计费哈是否会氨基酸复活卡交首付款经安徽省快解封哈设计费哈是否会氨基酸复活卡交首付款经安徽省快解封哈设计费哈是否会氨基酸复活卡交首付款经安徽省快解封哈设计费哈是否会氨基酸复活卡交首付款经安徽省快解封哈设计费哈是否会氨基酸复活卡交首付款经安徽省快解封哈设计费哈是否会氨基酸复活卡交首付款经安徽省快解封哈设计费哈是否会",image:"http://static.nodejs.cn/_static/img/logo.svg",style:"background:#333"},{name:"TypeScript 基础入门",router:"/ts",description:"氨基酸复活卡交首付款经安徽省快解封哈设计费哈是否会",image:"https://www.runoob.com/wp-content/uploads/2019/01/typescript-logo.jpg"},{name:"ES5 和 ES6 中类的区别",router:"/es",description:"氨基酸复活卡交首付款经安徽省快解封哈设计费哈是否会",image:"https://www.runoob.com/wp-content/uploads/2017/08/20130807-es6-e1420205362328.png"},{name:"解决移动端 Retina 屏幕 1px 边框问题",router:"/retina",description:"氨基酸复活卡交首付款经安徽省快解封哈设计费哈是否会",image:"https://www.yangqq.com/d/file/news/life/2014-05-29/37b2762ee25cd73e39019c57eb6c6135.jpg"},{name:"BFC 原理解析",router:"/bfc",description:"氨基酸复活卡交首付款经安徽省快解封哈设计费哈是否会",image:"http://www.yangqq.com/d/file/jstt/bj/2018-06-29/3f0b6da48a6fd4e626a021ff7bd0d74f.jpg"}];t.default=s}))},9861:function(t,s,a){"use strict";a("e260");var n=a("23e7"),o=a("0d3b"),c=a("6eeb"),e=a("e2cc"),i=a("d44e"),p=a("9ed3"),v=a("69f3"),_=a("19aa"),u=a("5135"),l=a("f8c2"),k=a("825a"),C=a("861d"),r=a("9a1f"),f=a("35a1"),d=a("b622"),m=d("iterator"),h="URLSearchParams",y=h+"Iterator",w=v.set,g=v.getterFor(h),b=v.getterFor(y),x=/\+/g,j=Array(4),P=function(t){return j[t-1]||(j[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},S=function(t){try{return decodeURIComponent(t)}catch(s){return t}},A=function(t){var s=t.replace(x," "),a=4;try{return decodeURIComponent(s)}catch(n){while(a)s=s.replace(P(a--),S);return s}},q=/[!'()~]|%20/g,E={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},B=function(t){return E[t]},L=function(t){return encodeURIComponent(t).replace(q,B)},O=function(t,s){if(s){var a,n,o=s.split("&"),c=0;while(c<o.length)a=o[c++],a.length&&(n=a.split("="),t.push({key:A(n.shift()),value:A(n.join("="))}))}},R=function(t){this.entries.length=0,O(this.entries,t)},U=function(t,s){if(t<s)throw TypeError("Not enough arguments")},F=p((function(t,s){w(this,{type:y,iterator:r(g(t).entries),kind:s})}),"Iterator",(function(){var t=b(this),s=t.kind,a=t.iterator.next(),n=a.value;return a.done||(a.value="keys"===s?n.key:"values"===s?n.value:[n.key,n.value]),a})),D=function(){_(this,D,h);var t,s,a,n,o,c,e,i,p,v=arguments.length>0?arguments[0]:void 0,l=this,d=[];if(w(l,{type:h,entries:d,updateURL:function(){},updateSearchParams:R}),void 0!==v)if(C(v))if(t=f(v),"function"===typeof t){s=t.call(v),a=s.next;while(!(n=a.call(s)).done){if(o=r(k(n.value)),c=o.next,(e=c.call(o)).done||(i=c.call(o)).done||!c.call(o).done)throw TypeError("Expected sequence with length 2");d.push({key:e.value+"",value:i.value+""})}}else for(p in v)u(v,p)&&d.push({key:p,value:v[p]+""});else O(d,"string"===typeof v?"?"===v.charAt(0)?v.slice(1):v:v+"")},N=D.prototype;e(N,{append:function(t,s){U(arguments.length,2);var a=g(this);a.entries.push({key:t+"",value:s+""}),a.updateURL()},delete:function(t){U(arguments.length,1);var s=g(this),a=s.entries,n=t+"",o=0;while(o<a.length)a[o].key===n?a.splice(o,1):o++;s.updateURL()},get:function(t){U(arguments.length,1);for(var s=g(this).entries,a=t+"",n=0;n<s.length;n++)if(s[n].key===a)return s[n].value;return null},getAll:function(t){U(arguments.length,1);for(var s=g(this).entries,a=t+"",n=[],o=0;o<s.length;o++)s[o].key===a&&n.push(s[o].value);return n},has:function(t){U(arguments.length,1);var s=g(this).entries,a=t+"",n=0;while(n<s.length)if(s[n++].key===a)return!0;return!1},set:function(t,s){U(arguments.length,1);for(var a,n=g(this),o=n.entries,c=!1,e=t+"",i=s+"",p=0;p<o.length;p++)a=o[p],a.key===e&&(c?o.splice(p--,1):(c=!0,a.value=i));c||o.push({key:e,value:i}),n.updateURL()},sort:function(){var t,s,a,n=g(this),o=n.entries,c=o.slice();for(o.length=0,a=0;a<c.length;a++){for(t=c[a],s=0;s<a;s++)if(o[s].key>t.key){o.splice(s,0,t);break}s===a&&o.push(t)}n.updateURL()},forEach:function(t){var s,a=g(this).entries,n=l(t,arguments.length>1?arguments[1]:void 0,3),o=0;while(o<a.length)s=a[o++],n(s.value,s.key,this)},keys:function(){return new F(this,"keys")},values:function(){return new F(this,"values")},entries:function(){return new F(this,"entries")}},{enumerable:!0}),c(N,m,N.entries),c(N,"toString",(function(){var t,s=g(this).entries,a=[],n=0;while(n<s.length)t=s[n++],a.push(L(t.key)+"="+L(t.value));return a.join("&")}),{enumerable:!0}),i(D,h),n({global:!0,forced:!o},{URLSearchParams:D}),t.exports={URLSearchParams:D,getState:g}},"9a1f":function(t,s,a){var n=a("825a"),o=a("35a1");t.exports=function(t){var s=o(t);if("function"!=typeof s)throw TypeError(String(t)+" is not iterable");return n(s.call(t))}},b5b9:function(t,s,a){"use strict";a.r(s);var n=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"markdown"},[a("h1",[t._v("EaImageDialog 图片选择器")]),a("p",[t._v("用于处理图片添加选择功能")]),a("h3",[t._v("引入")]),t._m(0),a("h3",[t._v("基础用法")]),a("p",[t._v("通过组件调用")]),t._m(1),t._m(2),t._m(3),a("h3",[t._v("全局方法")]),t._m(4),t._m(5),a("p",[t._v("或者")]),t._m(6),a("p",[t._v("来直接使用组件")]),t._m(7),t._m(8),a("p",[t._v("这样调用起来就更加简洁了")]),t._m(9),a("p",[t._t("default")],2),a("p",[t._t("table")],2)])},o=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",[a("code",[a("span",{staticClass:"token keyword"},[t._v("import")]),t._v(" Vue "),a("span",{staticClass:"token keyword"},[t._v("from")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'vue'")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),a("span",{staticClass:"token keyword"},[t._v("import")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v(" EaImage"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" EaImageDialog "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v(" "),a("span",{staticClass:"token keyword"},[t._v("from")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'e-admin'")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n\nVue"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("use")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("EaImage"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("use")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("EaImageDialog"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",[a("code",[a("span",{staticClass:"token operator"},[t._v("<")]),t._v("ea"),a("span",{staticClass:"token operator"},[t._v("-")]),t._v("image"),a("span",{staticClass:"token operator"},[t._v("-")]),t._v("dialog\n    action"),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token string"},[t._v('"https://jsonplaceholder.typicode.com/posts/"')]),t._v("\n    "),a("span",{staticClass:"token operator"},[t._v(":")]),t._v("visible"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("sync"),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token string"},[t._v('"dialogVisible"')]),t._v("\n    "),a("span",{staticClass:"token operator"},[t._v(":")]),t._v("on"),a("span",{staticClass:"token operator"},[t._v("-")]),t._v("success"),a("span",{staticClass:"token operator"},[t._v("=")]),a("span",{staticClass:"token string"},[t._v('"onSuccess"')]),t._v("\n"),a("span",{staticClass:"token operator"},[t._v(">")]),a("span",{staticClass:"token operator"},[t._v("<")]),a("span",{staticClass:"token operator"},[t._v("/")]),t._v("ea"),a("span",{staticClass:"token operator"},[t._v("-")]),t._v("image"),a("span",{staticClass:"token operator"},[t._v("-")]),t._v("dialog"),a("span",{staticClass:"token operator"},[t._v(">")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("on-success")]),t._v("的第一个参数封装了"),a("code",[t._v("el-upload")]),t._v("的三个回调参数"),a("code",[t._v("{response, file, fileList}")]),t._v("你需要在"),a("code",[t._v("on-success")]),t._v("的第二个参数回传图片"),a("code",[t._v("url")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",[a("code",[a("span",{staticClass:"token function"},[t._v("onSuccess")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("response"),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" file"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" done")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  \n  "),a("span",{staticClass:"token comment"},[t._v("// 例子中没有配置后台采用此方式显示图片")]),t._v("\n  "),a("span",{staticClass:"token function"},[t._v("done")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token constant"},[t._v("URL")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("createObjectURL")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("file"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("raw"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  \n  "),a("span",{staticClass:"token comment"},[t._v("// 实际使用中请根据后台返回数据回调图片src地址")]),t._v("\n  "),a("span",{staticClass:"token keyword"},[t._v("if")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token operator"},[t._v("!")]),t._v("response"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("code"),a("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),a("span",{staticClass:"token function"},[t._v("done")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("response"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("data"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("src"),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),a("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n \n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(",")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("如果你完整引入"),a("code",[t._v("e-admin")]),t._v("，它会添加"),a("code",[t._v("Vue.prototype.$imageDialog")]),t._v("和"),a("code",[t._v("Ea.imageDialog")]),t._v("方法"),a("br"),t._v("你可以简单的在实例中通过")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",[a("code",[a("span",{staticClass:"token keyword"},[t._v("this")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("$imageDialog")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  action"),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'https://jsonplaceholder.typicode.com/posts/'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("then")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("src")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=>")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",[a("code",[a("span",{staticClass:"token keyword"},[t._v("import")]),t._v(" Ea "),a("span",{staticClass:"token keyword"},[t._v("from")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'e-admin'")]),a("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n\nEa"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("imageDialog")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  action"),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'https://jsonplaceholder.typicode.com/posts/'")]),a("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("then")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("src")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=>")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("你还可以通过此方法下面暴露出来的"),a("code",[t._v("setOptions(options)")]),t._v("来设置默认参数")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",[a("code",[t._v("Ea"),a("span",{staticClass:"token punctuation"},[t._v(".")]),t._v("imageDialog"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("setOptions")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("action"),a("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),a("span",{staticClass:"token string"},[t._v("'https://jsonplaceholder.typicode.com/posts/'")]),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(")")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",[a("code",[t._v("Ea"),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("imageDialog")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(".")]),a("span",{staticClass:"token function"},[t._v("then")]),a("span",{staticClass:"token punctuation"},[t._v("(")]),a("span",{staticClass:"token parameter"},[t._v("src")]),t._v(" "),a("span",{staticClass:"token operator"},[t._v("=>")]),t._v(" "),a("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n\n"),a("span",{staticClass:"token punctuation"},[t._v("}")]),a("span",{staticClass:"token punctuation"},[t._v(")")]),a("span",{staticClass:"token punctuation"},[t._v(";")])])])}],c=a("2877"),e={},i=Object(c["a"])(e,n,o,!1,null,null,null);s["default"]=i.exports},ba0a:function(t,s,a){"use strict";a.r(s);var n=a("e108"),o=a.n(n);for(var c in n)"default"!==c&&function(t){a.d(s,t,(function(){return n[t]}))}(c);s["default"]=o.a},c208:function(t,s,a){},c2b7:function(t,s,a){"use strict";var n=a("206f"),o=a.n(n);o.a},c98e:function(t,s,a){"use strict";var n=2147483647,o=36,c=1,e=26,i=38,p=700,v=72,_=128,u="-",l=/[^\0-\u007E]/,k=/[.\u3002\uFF0E\uFF61]/g,C="Overflow: input needs wider integers to process",r=o-c,f=Math.floor,d=String.fromCharCode,m=function(t){var s=[],a=0,n=t.length;while(a<n){var o=t.charCodeAt(a++);if(o>=55296&&o<=56319&&a<n){var c=t.charCodeAt(a++);56320==(64512&c)?s.push(((1023&o)<<10)+(1023&c)+65536):(s.push(o),a--)}else s.push(o)}return s},h=function(t){return t+22+75*(t<26)},y=function(t,s,a){var n=0;for(t=a?f(t/p):t>>1,t+=f(t/s);t>r*e>>1;n+=o)t=f(t/r);return f(n+(r+1)*t/(t+i))},w=function(t){var s=[];t=m(t);var a,i,p=t.length,l=_,k=0,r=v;for(a=0;a<t.length;a++)i=t[a],i<128&&s.push(d(i));var w=s.length,g=w;w&&s.push(u);while(g<p){var b=n;for(a=0;a<t.length;a++)i=t[a],i>=l&&i<b&&(b=i);var x=g+1;if(b-l>f((n-k)/x))throw RangeError(C);for(k+=(b-l)*x,l=b,a=0;a<t.length;a++){if(i=t[a],i<l&&++k>n)throw RangeError(C);if(i==l){for(var j=k,P=o;;P+=o){var S=P<=r?c:P>=r+e?e:P-r;if(j<S)break;var A=j-S,q=o-S;s.push(d(h(S+A%q))),j=f(A/q)}s.push(d(h(j))),r=y(k,x,g==w),k=0,++g}}++k,++l}return s.join("")};t.exports=function(t){var s,a,n=[],o=t.toLowerCase().replace(k,".").split(".");for(s=0;s<o.length;s++)a=o[s],n.push(l.test(a)?"xn--"+w(a):a);return n.join(".")}},ddb0:function(t,s,a){var n=a("da84"),o=a("fdbc"),c=a("e260"),e=a("9112"),i=a("b622"),p=i("iterator"),v=i("toStringTag"),_=c.values;for(var u in o){var l=n[u],k=l&&l.prototype;if(k){if(k[p]!==_)try{e(k,p,_)}catch(r){k[p]=_}if(k[v]||e(k,v,u),o[u])for(var C in c)if(k[C]!==c[C])try{e(k,C,c[C])}catch(r){k[C]=c[C]}}}},e108:function(t,s,a){var n,o,c;(function(e,i){o=[s,a("4d77")],n=i,c="function"===typeof n?n.apply(s,o):n,void 0===c||(t.exports=c)})("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,(function(t,s){"use strict";var n=a("1bd5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,s=n(s);var o={components:{node:s.default}};t.default=o}))},e416:function(t,s,a){"use strict";var n=a("5823"),o=a.n(n);o.a},e9c7:function(t,s,a){"use strict";var n=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ea-view",{staticClass:"ea-document",attrs:{center:""}},[a("es")],1)},o=[];a.d(s,"a",(function(){return n})),a.d(s,"b",(function(){return o}))},efca:function(t,s,a){var n,o,c;(function(a,e){o=[s],n=e,c="function"===typeof n?n.apply(s,o):n,void 0===c||(t.exports=c)})("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,(function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=[{prop:"src",desc:"默认图片src",type:"String",enum:"-",default:""},{prop:"accept",desc:"接受上传的文件类型",type:"String",enum:"-",default:"image/*"},{prop:"title",desc:"弹出层标题",type:"String",enum:"-",default:"图片选择"},{prop:"width",desc:"弹出层宽度",type:"String",enum:"-",default:"600px"},{prop:"close-on-click-modal",desc:"是否可以通过点击 modal 关闭 Dialog",type:"Boolean",enum:"-",default:"false"},{prop:"visible",desc:"是否显示 Dialog，支持 .sync 修饰符",type:"Boolean",enum:"-",default:"false"},{prop:"size",desc:"表单尺寸",type:"String / Number",enum:"large / medium / small / mini",default:"small"},{prop:"types",desc:"支持的图片上传类型",type:"Array",enum:"-",default:"['web', 'device']"},{prop:"default-type",desc:"默认图片上传类型",type:"String",enum:"web / device",default:"device"},{prop:"disabled",desc:"是否禁用",type:"Boolean",enum:"-",default:"false"},{prop:"name",desc:"上传的文件字段名",type:"String",enum:"-",default:"file"},{prop:"action",desc:"必选参数，上传的地址",type:"String",enum:"-",default:"-"},{prop:"headers",desc:"设置上传的请求头部",type:"Object",enum:"-",default:"-"},{prop:"on-success",desc:"文件上传成功时的钩子，必须通过done回传src",type:"Function({response, file, fileList}, done)",enum:"-",default:"-"},{prop:"placeholder",desc:"图片输入框占位文本",type:"String",enum:"-",default:"http://asseek.com/image.jpg"},{prop:"required",desc:"src是否必须",type:"Boolean",enum:"-",default:"false"}];t.default=s}))},f194:function(t,s,a){"use strict";a.r(s);var n=a("0756"),o=a.n(n);for(var c in n)"default"!==c&&function(t){a.d(s,t,(function(){return n[t]}))}(c);s["default"]=o.a},fadd:function(t,s,a){"use strict";a.r(s);var n=a("205c"),o=a("f194");for(var c in o)"default"!==c&&function(t){a.d(s,t,(function(){return o[t]}))}(c);a("897e");var e=a("2877"),i=Object(e["a"])(o["default"],n["a"],n["b"],!1,null,"35117ba0",null);s["default"]=i.exports},fb64:function(t,s,a){"use strict";a.r(s);var n=a("29e6"),o=a.n(n);for(var c in n)"default"!==c&&function(t){a.d(s,t,(function(){return n[t]}))}(c);s["default"]=o.a}}]);
//# sourceMappingURL=ea-image-dialog.b7a2f4f2.js.map